!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){t.exports=n.p+"ea8a77d442cd84a1c20840b411eec697.png"},function(t,e,n){t.exports=n.p+"f6aa7f0421a5ce4cec7cc06690fd335e.png"},function(t,e,n){"use strict";n.r(e);var i,a,s=function(){function t(){var t=this;this.animations=[],this.updates=[],this.resize=function(){console.log("canvas resizing"),t.canvas.width=t.canvas.clientWidth,t.canvas.height=t.canvas.clientHeight},this.isRunning=!1,this.addAnimation=function(e){t.animations.push(e)},this.removeAnimation=function(e){t.animations.splice(t.animations.indexOf(e),1)},this.addUpdate=function(e){t.updates.push(e)},this.removeUpdate=function(e){t.updates.splice(t.updates.indexOf(e),1)},this.addAnimatable=function(e){t.updates.push(e.update),t.animations.push(e.draw)},this.removeAnimatable=function(e){t.updates.splice(t.updates.indexOf(e.update),1),t.animations.splice(t.animations.indexOf(e.draw),1)},this.addView=function(e){t.addAnimatable(e),e.width=t.width,e.height=t.height},this.removeView=function(e){t.removeAnimatable(e)},this.fps=40,this.fpsInterval=1e3/this.fps,this.animate=function(){t.isRunning&&requestAnimationFrame(t.animate);var e=Date.now(),n=e-t.lastFrameTime;if(n>t.fpsInterval){t.lastFrameTime=e;for(var i=n/1e3,a=0,s=t.updates;a<s.length;a++){(0,s[a])(i)}t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height);for(var r=0,o=t.animations;r<o.length;r++){(0,o[r])(t.ctx,t.canvas.width,t.canvas.height)}}}}return Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),t.createInBody=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var e=document.createElement("canvas");document.body.appendChild(e),e.style.width="100%",e.style.height="100%";var n=new t;return n.canvas=e,n.ctx=e.getContext("2d"),document.addEventListener("keyup",function(t){80==t.keyCode&&n.playPause(),console.log(t.keyCode)}),n.startAnimation(),n.resize(),window.addEventListener("resize",n.resize),n},t.prototype.startAnimation=function(){console.log("start animation"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animate()},t.prototype.stopAnimation=function(){console.log("stop animation"),this.isRunning=!1},t.prototype.playPause=function(){this.isRunning?this.stopAnimation():this.startAnimation()},t}(),r=function(){return function(){var t=this;this.animations=[],this.updates=[],this.isVisible=!0,this.update=function(e){if(t.isVisible)for(var n=0,i=t.updates;n<i.length;n++)(0,i[n])(e)},this.draw=function(e,n,i){if(t.isVisible)for(var a=0,s=t.animations;a<s.length;a++)(0,s[a])(e,n,i)},this.show=function(){t.isVisible=!0},this.hide=function(){t.isVisible=!1},this.addAnimation=function(e){t.animations.push(e)},this.removeAnimation=function(e){t.animations.splice(t.animations.indexOf(e),1)},this.addUpdate=function(e){t.updates.push(e)},this.removeUpdate=function(e){t.updates.splice(t.updates.indexOf(e),1)},this.addAnimatable=function(e){t.updates.push(e.update),t.animations.push(e.draw)},this.removeAnimatable=function(e){t.updates.splice(t.updates.indexOf(e.update),1),t.animations.splice(t.animations.indexOf(e.draw),1)}}}();!function(t){t.start="start",t.left="left",t.up="up",t.right="right",t.down="down",t.a="a"}(i||(i={})),function(t){t.keyboard="keyboard",t.gamepad="gamepad"}(a||(a={}));var o,l=function(){return function(){var t=this;this.listeners=[],this.addEventListener=function(e){if(!e||t.listeners.indexOf(e)>=0)throw"listener already added";t.listeners.push(e)},this.dispatchEvent=function(){for(var e=0;e<t.listeners.length;e++)(0,t.listeners[e])()},this.removeEventListener=function(e){if(!e||t.listeners.indexOf(e)<0)throw"listener not found";t.listeners.splice(t.listeners.indexOf(e),1)}}}(),c=function(){return function(){var t=this;this.listeners=[],this.addEventListener=function(e){if(!e||t.listeners.indexOf(e)>=0)throw"listener already added";t.listeners.push(e)},this.dispatchEvent=function(e){for(var n=0;n<t.listeners.length;n++)(0,t.listeners[n])(e)},this.removeEventListener=function(e){if(!e||t.listeners.indexOf(e)<0)throw"listener not found";t.listeners.splice(t.listeners.indexOf(e),1)}}}(),d=function(){return function(){var t=this;this.listeners=[],this.addEventListener=function(e){if(!e||t.listeners.indexOf(e)>=0)throw"listener already added";t.listeners.push(e)},this.dispatchEvent=function(e,n){for(var i=0;i<t.listeners.length;i++)(0,t.listeners[i])(e,n)},this.removeEventListener=function(e){if(!e||t.listeners.indexOf(e)<0)throw"listener not found";t.listeners.splice(t.listeners.indexOf(e),1)}}}(),h=function(){return function(t,e,n,s,r,o){var l=this;this.name=t,this.type=a.keyboard,this.signal=new d,this.xAxes=0,this.yAxes=0,this.start=!1,document.addEventListener("keydown",function(t){t.keyCode==n&&(l.xAxes=-1,l.signal.dispatchEvent(l,i.left)),t.keyCode==e&&(l.yAxes=-1,l.signal.dispatchEvent(l,i.up)),t.keyCode==r&&(l.xAxes=1,l.signal.dispatchEvent(l,i.right)),t.keyCode==s&&(l.yAxes=1,l.signal.dispatchEvent(l,i.down)),13==t.keyCode&&(l.start=!0,l.signal.dispatchEvent(l,i.start)),t.keyCode==o&&(l.a=!0,l.signal.dispatchEvent(l,i.a))}),document.addEventListener("keyup",function(t){t.keyCode==n&&(l.xAxes=-1)&&(l.xAxes=0),t.keyCode==e&&(l.yAxes=-1)&&(l.yAxes=0),t.keyCode==r&&(l.xAxes=1)&&(l.xAxes=0),t.keyCode==s&&(l.yAxes=1)&&(l.yAxes=0),13==t.keyCode&&(l.start=!1),t.keyCode==o&&(l.a=!1)})}}(),u=function(){function t(){var t=this;this.gamepads=[],this.scangamepads=function(){console.log("scanning gamepads");for(var e=navigator.getGamepads?navigator.getGamepads():[],n=0;n<e.length;n++)e[n]&&(console.log("scanned gamepad: "+e[n].index+"/"+e[n].id),!(e[n].index in t.gamepads)&&e[n].buttons.length>=16&&(t.gamepads[e[n].index]=e[n],t.scannedGamepad.dispatchEvent(e[n])))},this.scannedGamepad=new c,this.reset()}return t.prototype.start=function(){this.gamepadScanner=setInterval(this.scangamepads,500)},t.prototype.stop=function(){clearInterval(this.gamepadScanner)},t.prototype.reset=function(){this.gamepads=[]},t}(),p=function(){function t(t,e){var n=this;this.name=t,this.index=e,this.timeout=.5,this.signalingTimers={},this.signalListener=function(){requestAnimationFrame(n.signalListener);var t=Date.now();n.checkSignal(n.start,i.start,t),n.checkSignal(n.a,i.a,t),n.checkSignal(n.yAxes<-.5,i.up,t),n.checkSignal(n.yAxes>.5,i.down,t),n.checkSignal(n.xAxes<-.5,i.left,t),n.checkSignal(n.xAxes>.5,i.right,t)},this.checkSignal=function(t,e,i){t?n.signalingTimers[e]?(i-n.signalingTimers[e])/1e3>=n.timeout&&n.signal.dispatchEvent(n,e):(n.signalingTimers[e]=Date.now(),n.signal.dispatchEvent(n,e)):n.signalingTimers[e]=void 0},this.signal=new d,this.type=a.gamepad}return Object.defineProperty(t.prototype,"xAxes",{get:function(){return navigator.getGamepads()[this.index].axes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxes",{get:function(){return navigator.getGamepads()[this.index].axes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return navigator.getGamepads()[this.index].buttons[9].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return navigator.getGamepads()[this.index].buttons[0].pressed},enumerable:!0,configurable:!0}),t.prototype.enableSignals=function(){this.signalListener()},t}(),f=n(0),m=n.n(f),g=n(1),y=n.n(g),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(t){function e(e){var n=t.call(this)||this;n.start=e,n.options=[],n.controllers=[],n.drawOptions=function(t,e,i){if(!(n.controllers.length<=0))for(var a=i/2-32*n.options.length/2,s=0;s<n.options.length;s++){var r=n.options[s];t.fillStyle="black",t.textAlign="center",t.textBaseline="middle",t.font="22px sans-serif";var o=a+5+32*s;t.fillText(r,e/2,o),s===n.selectedOption&&t.strokeRect(e/2-t.measureText(r).width/2-5,o-11-5,t.measureText(r).width+10,32)}},n.drawControllers=function(t,e,i){for(var s=e/2-(15+75*n.controllers.length)/2,r=0;r<n.controllers.length;r++){t.fillStyle="hsl("+r/n.controllers.length*360+",100%, 40%)";var o=s+15+75*r;switch(n.controllers[r].type){case a.gamepad:t.font="60px FontAwesome",t.fillText("",o,i/4);break;case a.keyboard:t.font="60px FontAwesome",t.fillText("",o,i/4)}}},n.addController=function(t){t.type==a.gamepad&&t.enableSignals(),t.signal.addEventListener(n.controllerSignal)},n.controllerSignal=function(t,e){if(console.log("signal: "+e),e==i.start)n.controllers.indexOf(t)>=0?n.controllers.splice(n.controllers.indexOf(t),1):n.controllers.push(t);else if(n.controllers.length>0&&n.controllers[0]==t)switch(e){case i.down:n.selectedOption++,n.selectedOption>=n.options.length&&(n.selectedOption=0);break;case i.up:n.selectedOption--,n.selectedOption<0&&(n.selectedOption=n.options.length-1);break;case i.a:switch(n.selectedOption){case 0:n.gamepadScanner.stop(),n.start();break;case 1:n.showControls=!n.showControls}}},n.options=["Start Game","Show / Hide Controls"],n.selectedOption=0,n.showControls=!0,n.controls_gamepad_image=new Image,n.controls_gamepad_image.src=m.a,n.controls_keyboard_image=new Image,n.controls_keyboard_image.src=y.a,n.addAnimation(function(t,e,i){if(n.showControls){var a=e/3,s=a/n.controls_gamepad_image.naturalWidth*n.controls_gamepad_image.naturalHeight;t.drawImage(n.controls_gamepad_image,a-a/2,3*i/4-s/2,a,s),s=a/n.controls_keyboard_image.naturalWidth*n.controls_keyboard_image.naturalHeight,t.drawImage(n.controls_keyboard_image,2*a-a/2,3*i/4-s/2,a,s)}}),n.addAnimation(n.drawOptions),n.addAnimation(n.drawControllers),n.gamepadScanner=new u,n.gamepadScanner.scannedGamepad.addEventListener(function(t){n.addController(new p(t.index.toString(),t.index))}),n.gamepadScanner.start();var s=new h("arrows",38,37,40,39,32);return n.addController(s),n}return v(e,t),e}(r);!function(t){t[t.up=0]="up",t[t.right=1]="right",t[t.down=2]="down",t[t.left=3]="left"}(o||(o={}));var w=function(){function t(t,e,n){var a=this;this.fieldSize=t,this.controller=e,this.playerNumber=n,this.parts=[],this.collectedSomething=function(t){a.points+=2*t},this.finish=function(){a.isDone=!0},this.controllerSignal=function(t,e){switch(e){case i.up:a.direction!=o.down&&(a.nextDirection=o.up);break;case i.right:a.direction!=o.left&&(a.nextDirection=o.right);break;case i.down:a.direction!=o.up&&(a.nextDirection=o.down);break;case i.left:a.direction!=o.right&&(a.nextDirection=o.left)}},this.tick=function(){if(!a.isDone){a.direction=a.nextDirection;var t=a.parts[a.parts.length-1];switch(a.direction){case o.up:a.parts.push({x:t.x,y:t.y-1});break;case o.right:a.parts.push({x:t.x+1,y:t.y});break;case o.down:a.parts.push({x:t.x,y:t.y+1});break;case o.left:a.parts.push({x:t.x-1,y:t.y})}a.parts.shift()}},this.update=function(t){},this.draw=function(t,e,n){var i=e/(30*a.fieldSize),s=n/i,r=n/(s=Math.ceil(s)),o=30/a.parts.length;t.fillStyle=a.color;for(var l=0;l<a.parts.length;l++){a.isDone?t.fillStyle="hsl("+360*a.playerNumber+",100%, 30%)":t.fillStyle="hsl("+360*a.playerNumber+",100%, "+(30+o*l)+"%)";var c=a.parts[l];t.fillRect(c.x*i,c.y*r,i,r)}t.textAlign="start",t.textBaseline="top",t.font="60px sans-serif",t.fillStyle="hsl("+360*a.playerNumber+",100%, 50%)",t.fillText(a.points.toString(),e*a.playerNumber,10)},this.direction=o.right,this.points=0,this.nextDirection=this.direction,this.isDone=!1,this.color="hsl("+360*n+",100%, 30%)";for(var s=0;s<7;s++)this.parts.push({x:3+s,y:1+Math.round(20*n)});e.signal.addEventListener(this.controllerSignal),this.iMDone=new l,this.collected=new c,this.collected.addEventListener(this.collectedSomething),this.iMDone.addEventListener(this.finish)}return Object.defineProperty(t.prototype,"headPart",{get:function(){return this.parts[this.parts.length-1]},enumerable:!0,configurable:!0}),t}(),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.snakes=[],e.fpsInterval=300,e.items=[],e.update=function(t){var n=Date.now();if(n-e.lastFrameTime>e.fpsInterval){if(e.lastFrameTime=n,e.items.length<e.maxItems)if(0==e.currentItemSpawnDelay){e.currentItemSpawnDelay=e.itemSpawnerDelay;var i=!0,a=20;do{i=!0;for(var s=Math.floor(Math.random()*e.numberOfBlocksX),r=Math.floor(Math.random()*e.numberOfBlocksY),o=0;o<e.snakes.length&&i;o++)for(var l=e.snakes[o],c=0;c<l.parts.length&&i;c++){(f=l.parts[c]).x==s&&f.y==r&&(i=!1)}a--,i&&e.items.push({x:s,y:r,weight:(Math.floor(2*Math.random())+1)/2,drawStart:Math.random()*Math.PI*2})}while(!i&&a>0)}else e.currentItemSpawnDelay--;for(o=0;o<e.snakes.length;o++){(l=e.snakes[o]).tick()}for(o=0;o<e.snakes.length;o++){var d=e.snakes[o];(d.headPart.x<0||d.headPart.y<0||d.headPart.x>=e.numberOfBlocksX||d.headPart.y>=e.numberOfBlocksY)&&d.iMDone.dispatchEvent();for(c=0;c<e.snakes.length;c++)for(var h=e.snakes[c],u=d!=h?h.parts.length:h.parts.length-1,p=0;p<u;p++){var f;(f=h.parts[p]).x==d.headPart.x&&f.y==d.headPart.y&&d.iMDone.dispatchEvent()}var m=[];for(c=0;c<e.items.length;c++){var g=e.items[c];g.x==d.headPart.x&&g.y==d.headPart.y&&(m.push(c),d.collected.dispatchEvent(g.weight))}for(var y=0;y<m.length;y++){var v=m[y];e.items.splice(v,1)}}}},e.animation=function(t,n,i){for(var a=n/e.numberOfBlocksX,s=i/e.numberOfBlocksY,r=0;r<e.items.length;r++){var o=e.items[r];t.fillStyle="black",t.beginPath(),t.arc(o.x*a+a/2,o.y*s+s/2,a/3,o.drawStart,o.drawStart+2*Math.PI*o.weight),t.fill()}e.numberOfBlocksX=30*e.fieldSize,a=n/e.numberOfBlocksX,e.numberOfBlocksY=Math.ceil(i/a)},e}return b(e,t),e.prototype.start=function(t){this.fieldSize=1,this.itemSpawnerDelay=5,this.currentItemSpawnDelay=this.itemSpawnerDelay,this.maxItems=3;for(var e=0;e<t.length;e++){var n=t[e],i=new w(this.fieldSize,n,e/t.length);this.addAnimatable(i),this.snakes.push(i)}this.lastFrameTime=Date.now(),this.addUpdate(this.update),this.addAnimation(this.animation)},e}(r),O=function(){function t(){var t=this;this.start=function(){t.menu.hide(),t.game.show(),t.game.start(t.menu.controllers)}}return t.prototype.run=function(){this.animation=s.createInBody(),this.menu=new x(this.start),this.animation.addView(this.menu),this.game=new k,this.animation.addView(this.game),this.game.hide()},t}();document.addEventListener("DOMContentLoaded",function(){(new O).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jb250cm9sc19nYW1lcGFkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NvbnRyb2xzX2tleWJvYXJkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2FuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvZUV2ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9zbmFrZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2tleWJvYXJkQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9nYW1lcGFkU2Nhbm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2dhbWVwYWRDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbk1lbnVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlNpZ25hbHMiLCJDb250cm9sbGVyVHlwZSIsIkFuaW1hdGlvbiIsIl90aGlzIiwidGhpcyIsImFuaW1hdGlvbnMiLCJ1cGRhdGVzIiwicmVzaXplIiwiY29uc29sZSIsImxvZyIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJpc1J1bm5pbmciLCJhZGRBbmltYXRpb24iLCJmdW5jIiwicHVzaCIsInJlbW92ZUFuaW1hdGlvbiIsInNwbGljZSIsImluZGV4T2YiLCJhZGRVcGRhdGUiLCJyZW1vdmVVcGRhdGUiLCJhZGRBbmltYXRhYmxlIiwiYW5pbWF0YWJsZSIsInVwZGF0ZSIsImRyYXciLCJyZW1vdmVBbmltYXRhYmxlIiwiYWRkVmlldyIsInZpZXciLCJyZW1vdmVWaWV3IiwiZnBzIiwiZnBzSW50ZXJ2YWwiLCJhbmltYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibm93IiwiRGF0ZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidGltZURpZmYiLCJfaSIsIl9hIiwibGVuZ3RoIiwiY3R4IiwiY2xlYXJSZWN0IiwiX2IiLCJfYyIsImNyZWF0ZUluQm9keSIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiYW5pbWF0aW9uIiwiZ2V0Q29udGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleUNvZGUiLCJwbGF5UGF1c2UiLCJzdGFydEFuaW1hdGlvbiIsIndpbmRvdyIsInN0b3BBbmltYXRpb24iLCJWaWV3IiwiaXNWaXNpYmxlIiwic2hvdyIsImhpZGUiLCJEaXJlY3Rpb24iLCJFRXZlbnQiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJldmVudF8xIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkVFdmVudFQiLCJhcmciLCJldmVudF8yIiwiRUV2ZW50VFQiLCJhcmcxIiwiYXJnMiIsImV2ZW50XzMiLCJrZXlib2FyZENvbnRyb2xzX0tleWJvYXJkQ29udHJvbHMiLCJ1cEtleSIsImxlZnRLZXkiLCJkb3duS2V5IiwicmlnaHRLZXkiLCJhIiwidHlwZSIsImtleWJvYXJkIiwic2lnbmFsIiwieEF4ZXMiLCJ5QXhlcyIsInN0YXJ0IiwibGVmdCIsInVwIiwicmlnaHQiLCJkb3duIiwiZ2FtZXBhZFNjYW5uZXJfR2FtZXBhZFNjYW5uZXIiLCJHYW1lcGFkU2Nhbm5lciIsImdhbWVwYWRzIiwic2NhbmdhbWVwYWRzIiwibmF2aWdhdG9yIiwiZ2V0R2FtZXBhZHMiLCJpbmRleCIsImlkIiwiYnV0dG9ucyIsInNjYW5uZWRHYW1lcGFkIiwicmVzZXQiLCJnYW1lcGFkU2Nhbm5lciIsInNldEludGVydmFsIiwic3RvcCIsImNsZWFySW50ZXJ2YWwiLCJnYW1lcGFkQ29udHJvbHNfR2FtZXBhZENvbnRyb2xzIiwiR2FtZXBhZENvbnRyb2xzIiwidGltZW91dCIsInNpZ25hbGluZ1RpbWVycyIsInNpZ25hbExpc3RlbmVyIiwiY2hlY2tTaWduYWwiLCJpc1ByZXNzZWQiLCJ1bmRlZmluZWQiLCJnYW1lcGFkIiwiYXhlcyIsInByZXNzZWQiLCJlbmFibGVTaWduYWxzIiwibWFpbk1lbnVWaWV3X01haW5NZW51VmlldyIsIl9zdXBlciIsIk1haW5NZW51VmlldyIsIm9wdGlvbnMiLCJjb250cm9sbGVycyIsImRyYXdPcHRpb25zIiwic3RhcnRIZWlnaHQiLCJvcHRpb24iLCJmaWxsU3R5bGUiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmb250Iiwib3B0aW9uSGVpZ2h0IiwiZmlsbFRleHQiLCJzZWxlY3RlZE9wdGlvbiIsInN0cm9rZVJlY3QiLCJtZWFzdXJlVGV4dCIsImZvbnRTaXplIiwiZHJhd0NvbnRyb2xsZXJzIiwic3RhcnRYIiwieCIsImFkZENvbnRyb2xsZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlclNpZ25hbCIsInNlbmRlciIsInNob3dDb250cm9scyIsImNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UiLCJJbWFnZSIsInNyYyIsImNvbnRyb2xzX2dhbWVwYWRfZGVmYXVsdCIsImNvbnRyb2xzX2tleWJvYXJkX2ltYWdlIiwiY29udHJvbHNfa2V5Ym9hcmRfZGVmYXVsdCIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImRyYXdJbWFnZSIsInRvU3RyaW5nIiwiX19leHRlbmRzIiwic25ha2VfU25ha2UiLCJTbmFrZSIsImZpZWxkU2l6ZSIsInBsYXllck51bWJlciIsInBhcnRzIiwiY29sbGVjdGVkU29tZXRoaW5nIiwid2VpZ2h0IiwicG9pbnRzIiwiZmluaXNoIiwiaXNEb25lIiwiZGlyZWN0aW9uIiwibmV4dERpcmVjdGlvbiIsInRpY2siLCJjdXJyZW50IiwieSIsInNoaWZ0IiwiZmllbGRTaXplWCIsIm51bWJlck9mQmxvY2tzWSIsImZpZWxkU2l6ZVkiLCJNYXRoIiwiY2VpbCIsImNvbG9yR3JhZGllbnQiLCJjb2xvciIsInBhcnQiLCJmaWxsUmVjdCIsInJvdW5kIiwiaU1Eb25lIiwiY29sbGVjdGVkIiwiZ2FtZVZpZXdfR2FtZVZpZXciLCJHYW1lVmlldyIsImFwcGx5IiwiYXJndW1lbnRzIiwic25ha2VzIiwiaXRlbXMiLCJtYXhJdGVtcyIsImN1cnJlbnRJdGVtU3Bhd25EZWxheSIsIml0ZW1TcGF3bmVyRGVsYXkiLCJmb3VuZEl0ZW0iLCJtYXhJdGVyYXRpb25zIiwiaXRlbVgiLCJmbG9vciIsInJhbmRvbSIsIm51bWJlck9mQmxvY2tzWCIsIml0ZW1ZIiwic25ha2UiLCJqIiwiZHJhd1N0YXJ0IiwiUEkiLCJzbmFrZTEiLCJoZWFkUGFydCIsInNuYWtlMiIsImxlbmd0aF8xIiwiayIsImNvbGxlY3RlZEl0ZW1JbmRpY2VzIiwiaXRlbSIsImlfMSIsIml0ZW1JbmRleCIsImJlZ2luUGF0aCIsImFyYyIsImZpbGwiLCJnYW1lVmlld19leHRlbmRzIiwiYXBwX0FwcCIsIkFwcCIsIm1lbnUiLCJnYW1lIiwicnVuIl0s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Q2MsSUFBSXdLLEdBQ1pJLFFBSjhDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlYThhNzdkNDQyY2Q4NGExYzIwODQwYjQxMWVlYzY5Ny5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmNmFhN2YwNDIxYTVjZTRjZWM3Y2MwNjY5MGZkMzM1ZS5wbmdcIjsiLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vdmlld1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgQW5pbWF0aW9uRnVuY3Rpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGFibGUge1xyXG4gICAgdXBkYXRlOiBVcGRhdGVGdW5jdGlvbjtcclxuICAgIGRyYXc6IEFuaW1hdGlvbkZ1bmN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbnM6IEFuaW1hdGlvbkZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgdXBkYXRlczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVJbkJvZHkoKTogQW5pbWF0aW9uIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgYW5pbWF0aW9uLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA4MCkgeyAvLyBzcGFjZVxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnBsYXlQYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmtleUNvZGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhbmltYXRpb24uc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24ucmVzaXplKCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYW5pbWF0aW9uLnJlc2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FudmFzIHJlc2l6aW5nXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdGFydCBhbmltYXRpb25cIik7XHJcblxyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgc3RvcEFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0b3AgYW5pbWF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMuc3RvcEFuaW1hdGlvbigpIDogdGhpcy5zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRWaWV3ID0gKHZpZXc6IFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUodmlldyk7XHJcbiAgICAgICAgdmlldy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgdmlldy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVmlldyA9ICh2aWV3OiBWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbmltYXRhYmxlKHZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHMgPSA0MDtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWwgPSAxMDAwIC8gdGhpcy5mcHM7XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG5cclxuICAgICAgICBpZiAoZWxhcHNlZCA+IHRoaXMuZnBzSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICB2YXIgdGltZURpZmYgPSBlbGFwc2VkIC8gMTAwMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSh0aGlzLmN0eCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFRXZlbnRUVCB9IGZyb20gXCIuL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGVudW0gU2lnbmFscyB7XHJcbiAgICBzdGFydCA9IFwic3RhcnRcIixcclxuICAgIGxlZnQgPSBcImxlZnRcIixcclxuICAgIHVwID0gXCJ1cFwiLFxyXG4gICAgcmlnaHQgPSBcInJpZ2h0XCIsXHJcbiAgICBkb3duID0gXCJkb3duXCIsXHJcbiAgICBhID0gXCJhXCJcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ29udHJvbGxlclR5cGUge1xyXG4gICAga2V5Ym9hcmQgPSBcImtleWJvYXJkXCIsXHJcbiAgICBnYW1lcGFkID0gXCJnYW1lcGFkXCJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb250cm9sbGVyIHtcclxuICAgIHhBeGVzOiBudW1iZXI7XHJcbiAgICB5QXhlczogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHN0YXJ0OiBib29sZWFuO1xyXG4gICAgYTogYm9vbGVhbjtcclxuXHJcbiAgICBzaWduYWw6IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz47XHJcbiAgICB0eXBlOiBDb250cm9sbGVyVHlwZVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0aW9uRnVuY3Rpb24sIFVwZGF0ZUZ1bmN0aW9uLCBBbmltYXRhYmxlLCBBbmltYXRpb24gfSBmcm9tIFwiLi9hbmltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3IGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcbiAgICBwdWJsaWMgYW5pbWF0aW9uczogQW5pbWF0aW9uRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHVibGljIHVwZGF0ZXM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgaXNWaXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGUgb2YgdGhpcy51cGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUodGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZShjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEVFdmVudCB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VDxUPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmc6IFQpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmc6IFQpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VFQ8VDEsIFQyPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZzEsIGFyZzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFuaW1hdGFibGUgfSBmcm9tIFwiLi9lbmMvYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIsIFNpZ25hbHMgfSBmcm9tIFwiLi9lbmMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBFRXZlbnQsIEVFdmVudFQgfSBmcm9tIFwiLi9lbmMvZUV2ZW50XCI7XHJcblxyXG5lbnVtIERpcmVjdGlvbiB7XHJcbiAgICB1cCxcclxuICAgIHJpZ2h0LFxyXG4gICAgZG93bixcclxuICAgIGxlZnRcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNuYWtlIGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcblxyXG4gICAgcHVibGljIHBhcnRzOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH1bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBwb2ludHM6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIGRpcmVjdGlvbjogRGlyZWN0aW9uO1xyXG4gICAgcHJpdmF0ZSBuZXh0RGlyZWN0aW9uOiBEaXJlY3Rpb25cclxuICAgIHByaXZhdGUgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBpTURvbmU6IEVFdmVudDtcclxuICAgIHB1YmxpYyBjb2xsZWN0ZWQ6IEVFdmVudFQ8bnVtYmVyPjtcclxuICAgIHByaXZhdGUgaXNEb25lOiBib29sZWFuO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlYWRQYXJ0KCk6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydHNbdGhpcy5wYXJ0cy5sZW5ndGggLSAxXTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZmllbGRTaXplOiBudW1iZXIsIHByaXZhdGUgY29udHJvbGxlcjogQ29udHJvbGxlciwgcHJpdmF0ZSBwbGF5ZXJOdW1iZXI6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gRGlyZWN0aW9uLnJpZ2h0O1xyXG4gICAgICAgIHRoaXMucG9pbnRzID0gMDtcclxuICAgICAgICB0aGlzLm5leHREaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcclxuICAgICAgICB0aGlzLmlzRG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcImhzbChcIiArIHBsYXllck51bWJlciAqIDM2MCArIFwiLDEwMCUsIDMwJSlcIlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHg6IDMgKyBpLCB5OiAxICsgTWF0aC5yb3VuZChwbGF5ZXJOdW1iZXIgKiAyMCkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250cm9sbGVyU2lnbmFsKVxyXG5cclxuICAgICAgICB0aGlzLmlNRG9uZSA9IG5ldyBFRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RlZCA9IG5ldyBFRXZlbnRUPG51bWJlcj4oKTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY29sbGVjdGVkU29tZXRoaW5nKTtcclxuICAgICAgICB0aGlzLmlNRG9uZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuZmluaXNoKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29sbGVjdGVkU29tZXRoaW5nID0gKHdlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wb2ludHMgKz0gd2VpZ2h0ICogMjtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBmaW5pc2ggPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29udHJvbGxlclNpZ25hbCA9IChzZW5kZXI6IENvbnRyb2xsZXIsIHNpZ25hbDogU2lnbmFscykgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoc2lnbmFsKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2lnbmFscy51cDpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiAhPSBEaXJlY3Rpb24uZG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dERpcmVjdGlvbiA9IERpcmVjdGlvbi51cDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNpZ25hbHMucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT0gRGlyZWN0aW9uLmxlZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHREaXJlY3Rpb24gPSBEaXJlY3Rpb24ucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTaWduYWxzLmRvd246XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT0gRGlyZWN0aW9uLnVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0RGlyZWN0aW9uID0gRGlyZWN0aW9uLmRvd247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTaWduYWxzLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT0gRGlyZWN0aW9uLnJpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0RGlyZWN0aW9uID0gRGlyZWN0aW9uLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRG9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMubmV4dERpcmVjdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMucGFydHNbdGhpcy5wYXJ0cy5sZW5ndGggLSAxXVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi51cDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB4OiBjdXJyZW50LngsIHk6IGN1cnJlbnQueSAtIDEgfSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHg6IGN1cnJlbnQueCArIDEsIHk6IGN1cnJlbnQueSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uZG93bjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB4OiBjdXJyZW50LngsIHk6IGN1cnJlbnQueSArIDEgfSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgeDogY3VycmVudC54IC0gMSwgeTogY3VycmVudC55IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG51bWJlck9mQmxvY2tzWCA9ICh0aGlzLmZpZWxkU2l6ZSAqIDMwKVxyXG4gICAgICAgIGNvbnN0IGZpZWxkU2l6ZVggPSB3aWR0aCAvIG51bWJlck9mQmxvY2tzWDtcclxuICAgICAgICBsZXQgbnVtYmVyT2ZCbG9ja3NZID0gaGVpZ2h0IC8gZmllbGRTaXplWDtcclxuICAgICAgICBudW1iZXJPZkJsb2Nrc1kgPSBNYXRoLmNlaWwobnVtYmVyT2ZCbG9ja3NZKVxyXG4gICAgICAgIGNvbnN0IGZpZWxkU2l6ZVkgPSBoZWlnaHQgLyBudW1iZXJPZkJsb2Nrc1k7XHJcblxyXG4gICAgICAgIHZhciBjb2xvckdyYWRpZW50ID0gMzAgLyB0aGlzLnBhcnRzLmxlbmd0aDtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFydHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEb25lKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJoc2woXCIgKyB0aGlzLnBsYXllck51bWJlciAqIDM2MCArIFwiLDEwMCUsIDMwJSlcIlxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiaHNsKFwiICsgdGhpcy5wbGF5ZXJOdW1iZXIgKiAzNjAgKyBcIiwxMDAlLCBcIiArICgzMCArIGNvbG9yR3JhZGllbnQgKiBpKSArIFwiJSlcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnBhcnRzW2ldO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QocGFydC54ICogZmllbGRTaXplWCwgcGFydC55ICogZmllbGRTaXplWSwgZmllbGRTaXplWCwgZmllbGRTaXplWSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJzdGFydFwiOyAvLyBzdGFydCAvIGxlZnQgLyBjZW50ZXIgLyByaWdodCAvIGVuZFxyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiIC8vIGJvdHRvbSAvIGFscGhhYmV0aWMgLyBtaWRkbGUgLyBoYW5naW5nIC8gdG9wXHJcbiAgICAgICAgY3R4LmZvbnQgPSBcIjYwcHggc2Fucy1zZXJpZlwiO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImhzbChcIiArIHRoaXMucGxheWVyTnVtYmVyICogMzYwICsgXCIsMTAwJSwgNTAlKVwiXHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMucG9pbnRzLnRvU3RyaW5nKCksIHdpZHRoICogdGhpcy5wbGF5ZXJOdW1iZXIsIDEwKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscywgQ29udHJvbGxlclR5cGUgfSBmcm9tIFwiLi9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IEVFdmVudFRUIH0gZnJvbSBcIi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgS2V5Ym9hcmRDb250cm9scyBpbXBsZW1lbnRzIENvbnRyb2xsZXIge1xyXG4gICAgdHlwZTogQ29udHJvbGxlclR5cGU7XHJcbiAgICBzaWduYWw6IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz47XHJcbiAgICBwdWJsaWMgYTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyB4QXhlczogbnVtYmVyO1xyXG4gICAgcHVibGljIHlBeGVzOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHN0YXJ0OiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHVwS2V5OiBudW1iZXIsIGxlZnRLZXk6IG51bWJlciwgZG93bktleTogbnVtYmVyLCByaWdodEtleTogbnVtYmVyLCBhOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSBDb250cm9sbGVyVHlwZS5rZXlib2FyZDtcclxuICAgICAgICB0aGlzLnNpZ25hbCA9IG5ldyBFRXZlbnRUVDxDb250cm9sbGVyLCBzdHJpbmc+KCk7XHJcbiAgICAgICAgdGhpcy54QXhlcyA9IDA7XHJcbiAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGxlZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAtMVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBTaWduYWxzLmxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHVwS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gLTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMudXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHJpZ2h0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy5yaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gZG93bktleSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMuZG93bik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBTaWduYWxzLnN0YXJ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBTaWduYWxzLmEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGxlZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnhBeGVzID0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSB1cEtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueUF4ZXMgPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHJpZ2h0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy54QXhlcyA9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBkb3duS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55QXhlcyA9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZXBhZFNjYW5uZXIge1xyXG4gICAgcHJpdmF0ZSBnYW1lcGFkU2Nhbm5lcjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBnYW1lcGFkczogR2FtZXBhZFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zY2FubmVkR2FtZXBhZCA9IG5ldyBFRXZlbnRUPEdhbWVwYWQ+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmdhbWVwYWRTY2FubmVyID0gc2V0SW50ZXJ2YWwodGhpcy5zY2FuZ2FtZXBhZHMsIDUwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AoKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdhbWVwYWRTY2FubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lcGFkcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2NhbmdhbWVwYWRzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2Nhbm5pbmcgZ2FtZXBhZHNcIik7XHJcblxyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcyA/IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpIDogW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnYW1lcGFkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZXBhZHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2Nhbm5lZCBnYW1lcGFkOiBcIiArIGdhbWVwYWRzW2ldLmluZGV4ICsgXCIvXCIgKyBnYW1lcGFkc1tpXS5pZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShnYW1lcGFkc1tpXS5pbmRleCBpbiB0aGlzLmdhbWVwYWRzKSAmJiBnYW1lcGFkc1tpXS5idXR0b25zLmxlbmd0aCA+PSAxNikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZHNbZ2FtZXBhZHNbaV0uaW5kZXhdID0gZ2FtZXBhZHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FubmVkR2FtZXBhZC5kaXNwYXRjaEV2ZW50KGdhbWVwYWRzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2Nhbm5lZEdhbWVwYWQ6IEVFdmVudFQ8R2FtZXBhZD47XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sbGVyLCBDb250cm9sbGVyVHlwZSwgU2lnbmFscyB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lcGFkQ29udHJvbHMgaW1wbGVtZW50cyBDb250cm9sbGVyIHtcclxuICAgIHNpZ25hbDogRUV2ZW50VFQ8Q29udHJvbGxlciwgc3RyaW5nPjtcclxuICAgIHR5cGU6IENvbnRyb2xsZXJUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHByaXZhdGUgaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc2lnbmFsID0gbmV3IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz4oKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBDb250cm9sbGVyVHlwZS5nYW1lcGFkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgeEF4ZXMoKTogbnVtYmVyIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYXhlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHlBeGVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmF4ZXNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzdGFydCgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYnV0dG9uc1s5XS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgYSgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYnV0dG9uc1swXS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGVTaWduYWxzKCkge1xyXG4gICAgICAgIHRoaXMuc2lnbmFsTGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRpbWVvdXQgPSAwLjU7XHJcbiAgICBwcml2YXRlIHNpZ25hbGluZ1RpbWVyczogeyBbaWQ6IHN0cmluZ106IG51bWJlciB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBzaWduYWxMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zaWduYWxMaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMuc3RhcnQsIFNpZ25hbHMuc3RhcnQsIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLmEsIFNpZ25hbHMuYSwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMueUF4ZXMgPCAtMC41LCBTaWduYWxzLnVwLCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy55QXhlcyA+IDAuNSwgU2lnbmFscy5kb3duLCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy54QXhlcyA8IC0wLjUsIFNpZ25hbHMubGVmdCwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMueEF4ZXMgPiAwLjUsIFNpZ25hbHMucmlnaHQsIG5vdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NpZ25hbCA9IChpc1ByZXNzZWQ6IGJvb2xlYW4sIHNpZ25hbDogU2lnbmFscywgbm93OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoaXNQcmVzc2VkKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zaWduYWxpbmdUaW1lcnNbc2lnbmFsXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWxpbmdUaW1lcnNbc2lnbmFsXSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIHNpZ25hbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKG5vdyAtIHRoaXMuc2lnbmFsaW5nVGltZXJzW3NpZ25hbF0pIC8gMTAwMCA+PSB0aGlzLnRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgc2lnbmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaWduYWxpbmdUaW1lcnNbc2lnbmFsXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vZW5jL3ZpZXdcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscywgQ29udHJvbGxlclR5cGUgfSBmcm9tIFwiLi9lbmMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBLZXlib2FyZENvbnRyb2xzIH0gZnJvbSBcIi4vZW5jL2tleWJvYXJkQ29udHJvbHNcIjtcclxuaW1wb3J0IHsgR2FtZXBhZFNjYW5uZXIgfSBmcm9tIFwiLi9lbmMvZ2FtZXBhZFNjYW5uZXJcIjtcclxuaW1wb3J0IHsgR2FtZXBhZENvbnRyb2xzIH0gZnJvbSBcIi4vZW5jL2dhbWVwYWRDb250cm9sc1wiO1xyXG5pbXBvcnQgY29udHJvbHNfZ2FtZXBhZCBmcm9tIFwiLi9hc3NldHMvY29udHJvbHNfZ2FtZXBhZC5wbmdcIjtcclxuaW1wb3J0IGNvbnRyb2xzX2tleWJvYXJkIGZyb20gXCIuL2Fzc2V0cy9jb250cm9sc19rZXlib2FyZC5wbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluTWVudVZpZXcgZXh0ZW5kcyBWaWV3IHtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWRPcHRpb246IG51bWJlcjtcclxuICAgIHByaXZhdGUgb3B0aW9uczogc3RyaW5nW10gPSBbXTtcclxuICAgIHB1YmxpYyBjb250cm9sbGVyczogQ29udHJvbGxlcltdID0gW107XHJcbiAgICBjb250cm9sc19nYW1lcGFkX2ltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93Q29udHJvbHM6IGJvb2xlYW47XHJcbiAgICBnYW1lcGFkU2Nhbm5lcjogR2FtZXBhZFNjYW5uZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdGFydDogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gW1wiU3RhcnQgR2FtZVwiLCBcIlNob3cgLyBIaWRlIENvbnRyb2xzXCJdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuc2hvd0NvbnRyb2xzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sc19nYW1lcGFkX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc19nYW1lcGFkX2ltYWdlLnNyYyA9IGNvbnRyb2xzX2dhbWVwYWQ7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc19rZXlib2FyZF9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2Uuc3JjID0gY29udHJvbHNfa2V5Ym9hcmQ7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0aW9uKChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0NvbnRyb2xzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3V2lkdGggPSB3aWR0aCAvIDM7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gbmV3V2lkdGggLyB0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UubmF0dXJhbFdpZHRoICogdGhpcy5jb250cm9sc19nYW1lcGFkX2ltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuY29udHJvbHNfZ2FtZXBhZF9pbWFnZSwgbmV3V2lkdGggLSBuZXdXaWR0aCAvIDIsIGhlaWdodCAqIDMgLyA0IC0gbmV3SGVpZ2h0IC8gMiwgbmV3V2lkdGgsIG5ld0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSBuZXdXaWR0aCAvIHRoaXMuY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2UubmF0dXJhbFdpZHRoICogdGhpcy5jb250cm9sc19rZXlib2FyZF9pbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmNvbnRyb2xzX2tleWJvYXJkX2ltYWdlLCBuZXdXaWR0aCAqIDIgLSBuZXdXaWR0aCAvIDIsIGhlaWdodCAqIDMgLyA0IC0gbmV3SGVpZ2h0IC8gMiwgbmV3V2lkdGgsIG5ld0hlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRpb24odGhpcy5kcmF3T3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRpb24odGhpcy5kcmF3Q29udHJvbGxlcnMpO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVwYWRTY2FubmVyID0gbmV3IEdhbWVwYWRTY2FubmVyKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lcGFkU2Nhbm5lci5zY2FubmVkR2FtZXBhZC5hZGRFdmVudExpc3RlbmVyKChnYW1lcGFkOiBHYW1lcGFkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ29udHJvbGxlcihuZXcgR2FtZXBhZENvbnRyb2xzKGdhbWVwYWQuaW5kZXgudG9TdHJpbmcoKSwgZ2FtZXBhZC5pbmRleCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZXBhZFNjYW5uZXIuc3RhcnQoKTtcclxuXHJcbiAgICAgICAgdmFyIGtleWJvYXJkID0gbmV3IEtleWJvYXJkQ29udHJvbHMoXCJhcnJvd3NcIiwgMzgsIDM3LCA0MCwgMzksIDMyKTtcclxuICAgICAgICB0aGlzLmFkZENvbnRyb2xsZXIoa2V5Ym9hcmQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3T3B0aW9ucyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcnMubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IDIyO1xyXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IDU7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uc0hlaWdodCA9IChmb250U2l6ZSArIG1hcmdpbiAqIDIpICogdGhpcy5vcHRpb25zLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBzdGFydEhlaWdodCA9IGhlaWdodCAvIDIgLSBvcHRpb25zSGVpZ2h0IC8gMjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNbaV07XHJcblxyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjsgLy8gc3RhcnQgLyBsZWZ0IC8gY2VudGVyIC8gcmlnaHQgLyBlbmRcclxuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCIgLy8gYm90dG9tIC8gYWxwaGFiZXRpYyAvIG1pZGRsZSAvIGhhbmdpbmcgLyB0b3BcclxuICAgICAgICAgICAgY3R4LmZvbnQgPSBcIjIycHggc2Fucy1zZXJpZlwiO1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25IZWlnaHQgPSBzdGFydEhlaWdodCArIG1hcmdpbiArIChmb250U2l6ZSArIG1hcmdpbiAqIDIpICogaTtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KG9wdGlvbiwgd2lkdGggLyAyLCBvcHRpb25IZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGkgPT09IHRoaXMuc2VsZWN0ZWRPcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHdpZHRoIC8gMiAtIGN0eC5tZWFzdXJlVGV4dChvcHRpb24pLndpZHRoIC8gMiAtIG1hcmdpbiwgb3B0aW9uSGVpZ2h0IC0gZm9udFNpemUgLyAyIC0gbWFyZ2luLCBjdHgubWVhc3VyZVRleHQob3B0aW9uKS53aWR0aCArIG1hcmdpbiAqIDIsIGZvbnRTaXplICsgbWFyZ2luICogMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdDb250cm9sbGVycyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICB2YXIgbWFyZ2luID0gMTU7XHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXJXaWR0aCA9IDYwO1xyXG4gICAgICAgIHZhciB0b3RhbFdpZHRoID0gbWFyZ2luICsgdGhpcy5jb250cm9sbGVycy5sZW5ndGggKiAoY29udHJvbGxlcldpZHRoICsgbWFyZ2luKVxyXG4gICAgICAgIHZhciBzdGFydFggPSB3aWR0aCAvIDIgLSB0b3RhbFdpZHRoIC8gMlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250cm9sbGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJoc2woXCIgKyBpIC8gdGhpcy5jb250cm9sbGVycy5sZW5ndGggKiAzNjAgKyBcIiwxMDAlLCA0MCUpXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNvbnRyb2xsZXJzW2ldO1xyXG4gICAgICAgICAgICB2YXIgeCA9IHN0YXJ0WCArIG1hcmdpbiArIChtYXJnaW4gKyBjb250cm9sbGVyV2lkdGgpICogaTtcclxuICAgICAgICAgICAgc3dpdGNoIChlbGVtZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29udHJvbGxlclR5cGUuZ2FtZXBhZDpcclxuICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9ICc2MHB4IEZvbnRBd2Vzb21lJztcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJ1xcdWYxMWInLCB4LCBoZWlnaHQgLyA0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29udHJvbGxlclR5cGUua2V5Ym9hcmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnNjBweCBGb250QXdlc29tZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCdcXHVmMTFjJywgeCwgaGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29udHJvbGxlciA9IChjb250cm9sbGVyOiBDb250cm9sbGVyKSA9PiB7XHJcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIudHlwZSA9PSBDb250cm9sbGVyVHlwZS5nYW1lcGFkKSB7XHJcbiAgICAgICAgICAgICg8R2FtZXBhZENvbnRyb2xzPmNvbnRyb2xsZXIpLmVuYWJsZVNpZ25hbHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmNvbnRyb2xsZXJTaWduYWwpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb250cm9sbGVyU2lnbmFsID0gKHNlbmRlcjogQ29udHJvbGxlciwgc2lnbmFsOiBTaWduYWxzKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzaWduYWw6IFwiICsgc2lnbmFsKTtcclxuXHJcbiAgICAgICAgaWYgKHNpZ25hbCA9PSBTaWduYWxzLnN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXJzLmluZGV4T2Yoc2VuZGVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJzLnNwbGljZSh0aGlzLmNvbnRyb2xsZXJzLmluZGV4T2Yoc2VuZGVyKSwgMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJzLnB1c2goc2VuZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250cm9sbGVycy5sZW5ndGggPiAwICYmIHRoaXMuY29udHJvbGxlcnNbMF0gPT0gc2VuZGVyKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoc2lnbmFsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNpZ25hbHMuZG93bjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb24gPj0gdGhpcy5vcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNpZ25hbHMudXA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbi0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT3B0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gdGhpcy5vcHRpb25zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTaWduYWxzLmE6XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkT3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZFNjYW5uZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NvbnRyb2xzID0gIXRoaXMuc2hvd0NvbnRyb2xzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL2VuYy92aWV3XCI7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi9lbmMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBTbmFrZSB9IGZyb20gXCIuL3NuYWtlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVZpZXcgZXh0ZW5kcyBWaWV3IHtcclxuICAgIHByaXZhdGUgc25ha2VzOiBTbmFrZVtdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBmcHNJbnRlcnZhbCA9IDMwMDtcclxuICAgIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIGZpZWxkU2l6ZTogbnVtYmVyO1xyXG4gICAgbnVtYmVyT2ZCbG9ja3NZOiBudW1iZXI7XHJcbiAgICBudW1iZXJPZkJsb2Nrc1g6IG51bWJlcjtcclxuICAgIGl0ZW1zOiB7IHg6IG51bWJlciwgeTogbnVtYmVyLCB3ZWlnaHQ6IG51bWJlciwgZHJhd1N0YXJ0OiBudW1iZXIgfVtdID0gW107XHJcbiAgICBpdGVtU3Bhd25lckRlbGF5OiBudW1iZXI7XHJcbiAgICBjdXJyZW50SXRlbVNwYXduRGVsYXk6IG51bWJlcjtcclxuICAgIG1heEl0ZW1zOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHN0YXJ0KGNvbnRyb2xsZXJzOiBDb250cm9sbGVyW10pIHtcclxuICAgICAgICB0aGlzLmZpZWxkU2l6ZSA9IDE7XHJcbiAgICAgICAgdGhpcy5pdGVtU3Bhd25lckRlbGF5ID0gNTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtU3Bhd25EZWxheSA9IHRoaXMuaXRlbVNwYXduZXJEZWxheTtcclxuICAgICAgICB0aGlzLm1heEl0ZW1zID0gMztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xsZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBjb250cm9sbGVyc1tpXTtcclxuICAgICAgICAgICAgdmFyIHNuYWtlID0gbmV3IFNuYWtlKHRoaXMuZmllbGRTaXplLCBjb250cm9sbGVyLCBpIC8gY29udHJvbGxlcnMubGVuZ3RoKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKHNuYWtlKTtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZXMucHVzaChzbmFrZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuYWRkVXBkYXRlKHRoaXMudXBkYXRlKTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmFuaW1hdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPCB0aGlzLm1heEl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbVNwYXduRGVsYXkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1TcGF3bkRlbGF5ID0gdGhpcy5pdGVtU3Bhd25lckRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZEl0ZW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhJdGVyYXRpb25zID0gMjA7XHJcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZEl0ZW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbVggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLm51bWJlck9mQmxvY2tzWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtWSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMubnVtYmVyT2ZCbG9ja3NZKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zbmFrZXMubGVuZ3RoICYmIGZvdW5kSXRlbTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFrZSA9IHRoaXMuc25ha2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbmFrZS5wYXJ0cy5sZW5ndGggJiYgZm91bmRJdGVtOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gc25ha2UucGFydHNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQueCA9PSBpdGVtWCAmJiBwYXJ0LnkgPT0gaXRlbVkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRJdGVtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEl0ZXJhdGlvbnMtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHsgeDogaXRlbVgsIHk6IGl0ZW1ZLCB3ZWlnaHQ6IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKSArIDEpIC8gMiwgZHJhd1N0YXJ0OiBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICghZm91bmRJdGVtICYmIG1heEl0ZXJhdGlvbnMgPiAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1TcGF3bkRlbGF5LS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zbmFrZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNuYWtlID0gdGhpcy5zbmFrZXNbaV07XHJcbiAgICAgICAgICAgICAgICBzbmFrZS50aWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc25ha2UxID0gdGhpcy5zbmFrZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoc25ha2UxLmhlYWRQYXJ0LnggPCAwIHx8IHNuYWtlMS5oZWFkUGFydC55IDwgMCB8fCBzbmFrZTEuaGVhZFBhcnQueCA+PSB0aGlzLm51bWJlck9mQmxvY2tzWCB8fCBzbmFrZTEuaGVhZFBhcnQueSA+PSB0aGlzLm51bWJlck9mQmxvY2tzWSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNuYWtlMS5pTURvbmUuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYWtlMiA9IHRoaXMuc25ha2VzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBzbmFrZTEgIT0gc25ha2UyID8gc25ha2UyLnBhcnRzLmxlbmd0aCA6IHNuYWtlMi5wYXJ0cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydCA9IHNuYWtlMi5wYXJ0c1trXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQueCA9PSBzbmFrZTEuaGVhZFBhcnQueCAmJiBwYXJ0LnkgPT0gc25ha2UxLmhlYWRQYXJ0LnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYWtlMS5pTURvbmUuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbGxlY3RlZEl0ZW1JbmRpY2VzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuaXRlbXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtc1tqXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS54ID09IHNuYWtlMS5oZWFkUGFydC54ICYmIGl0ZW0ueSA9PSBzbmFrZTEuaGVhZFBhcnQueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0ZWRJdGVtSW5kaWNlcy5wdXNoKGopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFrZTEuY29sbGVjdGVkLmRpc3BhdGNoRXZlbnQoaXRlbS53ZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sbGVjdGVkSXRlbUluZGljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtSW5kZXggPSBjb2xsZWN0ZWRJdGVtSW5kaWNlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpdGVtSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgYW5pbWF0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGxldCBmaWVsZFNpemVYID0gd2lkdGggLyB0aGlzLm51bWJlck9mQmxvY2tzWDtcclxuICAgICAgICBjb25zdCBmaWVsZFNpemVZID0gaGVpZ2h0IC8gdGhpcy5udW1iZXJPZkJsb2Nrc1k7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtc1tpXTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY3R4LmFyYyhpdGVtLnggKiBmaWVsZFNpemVYICsgZmllbGRTaXplWCAvIDIsIGl0ZW0ueSAqIGZpZWxkU2l6ZVkgKyBmaWVsZFNpemVZIC8gMiwgZmllbGRTaXplWCAvIDMsIGl0ZW0uZHJhd1N0YXJ0LCBpdGVtLmRyYXdTdGFydCArIE1hdGguUEkgKiAyICogaXRlbS53ZWlnaHQpO1xyXG4gICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5udW1iZXJPZkJsb2Nrc1ggPSAodGhpcy5maWVsZFNpemUgKiAzMClcclxuICAgICAgICBmaWVsZFNpemVYID0gd2lkdGggLyB0aGlzLm51bWJlck9mQmxvY2tzWDtcclxuICAgICAgICB0aGlzLm51bWJlck9mQmxvY2tzWSA9IE1hdGguY2VpbChoZWlnaHQgLyBmaWVsZFNpemVYKTtcclxuICAgIH07XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb24gfSBmcm9tIFwiLi9lbmMvYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IE1haW5NZW51VmlldyB9IGZyb20gXCIuL21haW5NZW51Vmlld1wiO1xyXG5pbXBvcnQgeyBHYW1lVmlldyB9IGZyb20gXCIuL2dhbWVWaWV3XCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBhbmltYXRpb246IEFuaW1hdGlvbjtcclxuICAgIG1lbnU6IE1haW5NZW51VmlldztcclxuICAgIGdhbWU6IEdhbWVWaWV3O1xyXG5cclxuICAgIHB1YmxpYyBydW4oKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBBbmltYXRpb24uY3JlYXRlSW5Cb2R5KCk7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbmV3IE1haW5NZW51Vmlldyh0aGlzLnN0YXJ0KTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRWaWV3KHRoaXMubWVudSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nYW1lID0gbmV3IEdhbWVWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVmlldyh0aGlzLmdhbWUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1lbnUuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5zaG93KCk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnN0YXJ0KHRoaXMubWVudS5jb250cm9sbGVycyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gIGNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcclxuICBhcHAucnVuKCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9