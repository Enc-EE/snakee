!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){e.exports=n.p+"ea8a77d442cd84a1c20840b411eec697.png"},function(e,t,n){e.exports=n.p+"f6aa7f0421a5ce4cec7cc06690fd335e.png"},function(e,t,n){"use strict";n.r(t);var i,a,s=function(){function e(){var e=this;this.animations=[],this.updates=[],this.resize=function(){console.log("canvas resizing"),e.canvas.width=e.canvas.clientWidth,e.canvas.height=e.canvas.clientHeight},this.isRunning=!1,this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)},this.addView=function(t){e.addAnimatable(t),t.width=e.width,t.height=e.height},this.removeView=function(t){e.removeAnimatable(t)},this.fps=40,this.fpsInterval=1e3/this.fps,this.animate=function(){e.isRunning&&requestAnimationFrame(e.animate);var t=Date.now(),n=t-e.lastFrameTime;if(n>e.fpsInterval){e.lastFrameTime=t;for(var i=n/1e3,a=0,s=e.updates;a<s.length;a++){(0,s[a])(i)}e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);for(var r=0,o=e.animations;r<o.length;r++){(0,o[r])(e.ctx,e.canvas.width,e.canvas.height)}}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),e.createInBody=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var n=new e;return n.canvas=t,n.ctx=t.getContext("2d"),document.addEventListener("keyup",function(e){80==e.keyCode&&n.playPause(),console.log(e.keyCode)}),n.startAnimation(),n.resize(),window.addEventListener("resize",n.resize),n},e.prototype.startAnimation=function(){console.log("start animation"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animate()},e.prototype.stopAnimation=function(){console.log("stop animation"),this.isRunning=!1},e.prototype.playPause=function(){this.isRunning?this.stopAnimation():this.startAnimation()},e}(),r=function(){return function(){var e=this;this.animations=[],this.updates=[],this.isVisible=!0,this.update=function(t){if(e.isVisible)for(var n=0,i=e.updates;n<i.length;n++)(0,i[n])(t)},this.draw=function(t,n,i){if(e.isVisible)for(var a=0,s=e.animations;a<s.length;a++)(0,s[a])(t,n,i)},this.show=function(){e.isVisible=!0},this.hide=function(){e.isVisible=!1},this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)}}}();!function(e){e.start="start",e.left="left",e.up="up",e.right="right",e.down="down",e.a="a"}(i||(i={})),function(e){e.keyboard="keyboard",e.gamepad="gamepad"}(a||(a={}));var o,l=function(){return function(){var e=this;this.listeners=[],this.addEventListener=function(t){if(!t||e.listeners.indexOf(t)>=0)throw"listener already added";e.listeners.push(t)},this.dispatchEvent=function(){for(var t=0;t<e.listeners.length;t++)(0,e.listeners[t])()},this.removeEventListener=function(t){if(!t||e.listeners.indexOf(t)<0)throw"listener not found";e.listeners.splice(e.listeners.indexOf(t),1)}}}(),c=function(){return function(){var e=this;this.listeners=[],this.addEventListener=function(t){if(!t||e.listeners.indexOf(t)>=0)throw"listener already added";e.listeners.push(t)},this.dispatchEvent=function(t){for(var n=0;n<e.listeners.length;n++)(0,e.listeners[n])(t)},this.removeEventListener=function(t){if(!t||e.listeners.indexOf(t)<0)throw"listener not found";e.listeners.splice(e.listeners.indexOf(t),1)}}}(),d=function(){return function(){var e=this;this.listeners=[],this.addEventListener=function(t){if(!t||e.listeners.indexOf(t)>=0)throw"listener already added";e.listeners.push(t)},this.dispatchEvent=function(t,n){for(var i=0;i<e.listeners.length;i++)(0,e.listeners[i])(t,n)},this.removeEventListener=function(t){if(!t||e.listeners.indexOf(t)<0)throw"listener not found";e.listeners.splice(e.listeners.indexOf(t),1)}}}(),h=function(){return function(e,t,n,s,r,o){var l=this;this.name=e,this.type=a.keyboard,this.signal=new d,this.xAxes=0,this.yAxes=0,this.start=!1,document.addEventListener("keydown",function(e){e.keyCode==n&&(l.xAxes=-1,l.signal.dispatchEvent(l,i.left)),e.keyCode==t&&(l.yAxes=-1,l.signal.dispatchEvent(l,i.up)),e.keyCode==r&&(l.xAxes=1,l.signal.dispatchEvent(l,i.right)),e.keyCode==s&&(l.yAxes=1,l.signal.dispatchEvent(l,i.down)),13==e.keyCode&&(l.start=!0,l.signal.dispatchEvent(l,i.start)),e.keyCode==o&&(l.a=!0,l.signal.dispatchEvent(l,i.a))}),document.addEventListener("keyup",function(e){e.keyCode==n&&(l.xAxes=-1)&&(l.xAxes=0),e.keyCode==t&&(l.yAxes=-1)&&(l.yAxes=0),e.keyCode==r&&(l.xAxes=1)&&(l.xAxes=0),e.keyCode==s&&(l.yAxes=1)&&(l.yAxes=0),13==e.keyCode&&(l.start=!1),e.keyCode==o&&(l.a=!1)})}}(),u=function(){function e(){var e=this;this.gamepads=[],this.scangamepads=function(){console.log("scanning gamepads");for(var t=navigator.getGamepads?navigator.getGamepads():[],n=0;n<t.length;n++)t[n]&&(console.log("scanned gamepad: "+t[n].index+"/"+t[n].id),!(t[n].index in e.gamepads)&&t[n].buttons.length>=16&&(e.gamepads[t[n].index]=t[n],e.scannedGamepad.dispatchEvent(t[n])))},this.scannedGamepad=new c,this.reset()}return e.prototype.start=function(){this.gamepadScanner=setInterval(this.scangamepads,500)},e.prototype.stop=function(){clearInterval(this.gamepadScanner)},e.prototype.reset=function(){this.gamepads=[]},e}(),p=function(){function e(e,t){var n=this;this.name=e,this.index=t,this.timeout=.5,this.signalingTimers={},this.signalListener=function(){requestAnimationFrame(n.signalListener);var e=Date.now();n.checkSignal(n.start,i.start,e),n.checkSignal(n.a,i.a,e),n.checkSignal(n.yAxes<-.5,i.up,e),n.checkSignal(n.yAxes>.5,i.down,e),n.checkSignal(n.xAxes<-.5,i.left,e),n.checkSignal(n.xAxes>.5,i.right,e)},this.checkSignal=function(e,t,i){e?n.signalingTimers[t]?(i-n.signalingTimers[t])/1e3>=n.timeout&&n.signal.dispatchEvent(n,t):(n.signalingTimers[t]=Date.now(),n.signal.dispatchEvent(n,t)):n.signalingTimers[t]=void 0},this.signal=new d,this.type=a.gamepad}return Object.defineProperty(e.prototype,"xAxes",{get:function(){return navigator.getGamepads()[this.index].axes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxes",{get:function(){return navigator.getGamepads()[this.index].axes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return navigator.getGamepads()[this.index].buttons[9].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return navigator.getGamepads()[this.index].buttons[0].pressed},enumerable:!0,configurable:!0}),e.prototype.enableSignals=function(){this.signalListener()},e}(),f=n(0),m=n.n(f),g=n(1),y=n.n(g),v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(e){function t(t){var n=e.call(this)||this;n.start=t,n.options=[],n.controllers=[],n.drawOptions=function(e,t,i){if(!(n.controllers.length<=0))for(var a=i/2-32*n.options.length/2,s=0;s<n.options.length;s++){var r=n.options[s];e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="22px sans-serif";var o=a+5+32*s;e.fillText(r,t/2,o),s===n.selectedOption&&e.strokeRect(t/2-e.measureText(r).width/2-5,o-11-5,e.measureText(r).width+10,32)}},n.drawControllers=function(e,t,i){for(var s=t/2-(15+75*n.controllers.length)/2,r=0;r<n.controllers.length;r++){e.fillStyle="hsl("+r/n.controllers.length*360+",100%, 40%)";var o=s+15+75*r;switch(n.controllers[r].type){case a.gamepad:e.font="60px FontAwesome",e.fillText("",o,i/4);break;case a.keyboard:e.font="60px FontAwesome",e.fillText("",o,i/4)}}},n.addController=function(e){e.type==a.gamepad&&e.enableSignals(),e.signal.addEventListener(n.controllerSignal)},n.controllerSignal=function(e,t){if(console.log("signal: "+t),t==i.start)n.controllers.indexOf(e)>=0?n.controllers.splice(n.controllers.indexOf(e),1):n.controllers.push(e);else if(n.controllers.length>0&&n.controllers[0]==e)switch(t){case i.down:n.selectedOption++,n.selectedOption>=n.options.length&&(n.selectedOption=0);break;case i.up:n.selectedOption--,n.selectedOption<0&&(n.selectedOption=n.options.length-1);break;case i.a:switch(n.selectedOption){case 0:n.gamepadScanner.stop(),n.start();break;case 1:n.showControls=!n.showControls}}},n.options=["Start Game","Show / Hide Controls"],n.selectedOption=0,n.showControls=!0,n.controls_gamepad_image=new Image,n.controls_gamepad_image.src=m.a,n.controls_keyboard_image=new Image,n.controls_keyboard_image.src=y.a,n.addAnimation(function(e,t,i){if(n.showControls){var a=t/3,s=a/n.controls_gamepad_image.naturalWidth*n.controls_gamepad_image.naturalHeight;e.drawImage(n.controls_gamepad_image,a-a/2,3*i/4-s/2,a,s),s=a/n.controls_keyboard_image.naturalWidth*n.controls_keyboard_image.naturalHeight,e.drawImage(n.controls_keyboard_image,2*a-a/2,3*i/4-s/2,a,s)}}),n.addAnimation(n.drawOptions),n.addAnimation(n.drawControllers),n.gamepadScanner=new u,n.gamepadScanner.scannedGamepad.addEventListener(function(e){n.addController(new p(e.index.toString(),e.index))}),n.gamepadScanner.start();var s=new h("arrows",38,37,40,39,32);return n.addController(s),n}return v(t,e),t}(r);!function(e){e[e.up=0]="up",e[e.right=1]="right",e[e.down=2]="down",e[e.left=3]="left"}(o||(o={}));var w=function(){function e(e,t,n){var a=this;this.fieldSize=e,this.controller=t,this.playerNumber=n,this.parts=[],this.finish=function(){a.color="hsl("+360*a.playerNumber+",100%, 80%)",a.isDone=!0},this.controllerSignal=function(e,t){switch(t){case i.up:a.direction!=o.down&&(a.nextDirection=o.up);break;case i.right:a.direction!=o.left&&(a.nextDirection=o.right);break;case i.down:a.direction!=o.up&&(a.nextDirection=o.down);break;case i.left:a.direction!=o.right&&(a.nextDirection=o.left)}},this.tick=function(){if(!a.isDone){a.direction=a.nextDirection;var e=a.parts[a.parts.length-1];switch(a.direction){case o.up:a.parts.push({x:e.x,y:e.y-1});break;case o.right:a.parts.push({x:e.x+1,y:e.y});break;case o.down:a.parts.push({x:e.x,y:e.y+1});break;case o.left:a.parts.push({x:e.x-1,y:e.y})}a.parts.shift()}},this.update=function(e){},this.draw=function(e,t,n){for(var i=t/(30*a.fieldSize),s=n/i,r=n/(s=Math.ceil(s)),o=0;o<a.parts.length;o++){var l=a.parts[o];e.fillStyle=a.color,e.fillRect(l.x*i,l.y*r,i,r)}},this.direction=o.right,this.nextDirection=this.direction,this.isDone=!1,this.color="hsl("+360*n+",100%, 40%)";for(var s=0;s<7;s++)this.parts.push({x:3+s,y:1+Math.round(20*n)});t.signal.addEventListener(this.controllerSignal),this.iMDone=new l,this.iMDone.addEventListener(this.finish)}return Object.defineProperty(e.prototype,"headPart",{get:function(){return this.parts[this.parts.length-1]},enumerable:!0,configurable:!0}),e}(),b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.snakes=[],t.fpsInterval=300,t.items=[],t.update=function(e){var n=Date.now();if(n-t.lastFrameTime>t.fpsInterval){if(t.lastFrameTime=n,t.items.length<t.maxItems)if(0==t.currentItemSpawnDelay){t.currentItemSpawnDelay=t.itemSpawnerDelay;var i=!0,a=20;do{i=!0;for(var s=Math.floor(Math.random()*t.numberOfBlocksX),r=Math.floor(Math.random()*t.numberOfBlocksY),o=0;o<t.snakes.length&&i;o++)for(var l=t.snakes[o],c=0;c<l.parts.length&&i;c++){(f=l.parts[c]).x==s&&f.y==r&&(i=!1)}a--,i&&t.items.push({x:s,y:r})}while(!i&&a>0)}else t.currentItemSpawnDelay--;for(o=0;o<t.snakes.length;o++){(l=t.snakes[o]).tick()}for(o=0;o<t.snakes.length;o++){var d=t.snakes[o];(d.headPart.x<0||d.headPart.y<0||d.headPart.x>=t.numberOfBlocksX||d.headPart.y>=t.numberOfBlocksY)&&d.iMDone.dispatchEvent();for(c=0;c<t.snakes.length;c++)for(var h=t.snakes[c],u=d!=h?h.parts.length:h.parts.length-1,p=0;p<u;p++){var f;(f=h.parts[p]).x==d.headPart.x&&f.y==d.headPart.y&&d.iMDone.dispatchEvent()}}}},t.animation=function(e,n,i){for(var a=n/t.numberOfBlocksX,s=i/t.numberOfBlocksY,r=0;r<t.items.length;r++){var o=t.items[r];e.fillStyle="black",e.beginPath(),e.arc(o.x*a+a/2,o.y*s+s/2,a/3,0,2*Math.PI),e.fill()}t.numberOfBlocksX=30*t.fieldSize,a=n/t.numberOfBlocksX,t.numberOfBlocksY=Math.ceil(i/a)},t}return b(t,e),t.prototype.start=function(e){this.fieldSize=1,this.itemSpawnerDelay=5,this.currentItemSpawnDelay=this.itemSpawnerDelay,this.maxItems=3;for(var t=0;t<e.length;t++){var n=e[t],i=new w(this.fieldSize,n,t/e.length);this.addAnimatable(i),this.snakes.push(i)}this.lastFrameTime=Date.now(),this.addUpdate(this.update),this.addAnimation(this.animation)},t}(r),O=function(){function e(){var e=this;this.start=function(){e.menu.hide(),e.game.show(),e.game.start(e.menu.controllers)}}return e.prototype.run=function(){this.animation=s.createInBody(),this.menu=new x(this.start),this.animation.addView(this.menu),this.game=new k,this.animation.addView(this.game),this.game.hide()},e}();document.addEventListener("DOMContentLoaded",function(){(new O).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jb250cm9sc19nYW1lcGFkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NvbnRyb2xzX2tleWJvYXJkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2FuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvZUV2ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9zbmFrZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2tleWJvYXJkQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9nYW1lcGFkU2Nhbm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2dhbWVwYWRDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbk1lbnVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlNpZ25hbHMiLCJDb250cm9sbGVyVHlwZSIsIkFuaW1hdGlvbiIsIl90aGlzIiwidGhpcyIsImFuaW1hdGlvbnMiLCJ1cGRhdGVzIiwicmVzaXplIiwiY29uc29sZSIsImxvZyIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJpc1J1bm5pbmciLCJhZGRBbmltYXRpb24iLCJmdW5jIiwicHVzaCIsInJlbW92ZUFuaW1hdGlvbiIsInNwbGljZSIsImluZGV4T2YiLCJhZGRVcGRhdGUiLCJyZW1vdmVVcGRhdGUiLCJhZGRBbmltYXRhYmxlIiwiYW5pbWF0YWJsZSIsInVwZGF0ZSIsImRyYXciLCJyZW1vdmVBbmltYXRhYmxlIiwiYWRkVmlldyIsInZpZXciLCJyZW1vdmVWaWV3IiwiZnBzIiwiZnBzSW50ZXJ2YWwiLCJhbmltYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibm93IiwiRGF0ZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidGltZURpZmYiLCJfaSIsIl9hIiwibGVuZ3RoIiwiY3R4IiwiY2xlYXJSZWN0IiwiX2IiLCJfYyIsImNyZWF0ZUluQm9keSIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiYW5pbWF0aW9uIiwiZ2V0Q29udGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleUNvZGUiLCJwbGF5UGF1c2UiLCJzdGFydEFuaW1hdGlvbiIsIndpbmRvdyIsInN0b3BBbmltYXRpb24iLCJWaWV3IiwiaXNWaXNpYmxlIiwic2hvdyIsImhpZGUiLCJEaXJlY3Rpb24iLCJFRXZlbnQiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJldmVudF8xIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkVFdmVudFQiLCJhcmciLCJldmVudF8yIiwiRUV2ZW50VFQiLCJhcmcxIiwiYXJnMiIsImV2ZW50XzMiLCJrZXlib2FyZENvbnRyb2xzX0tleWJvYXJkQ29udHJvbHMiLCJ1cEtleSIsImxlZnRLZXkiLCJkb3duS2V5IiwicmlnaHRLZXkiLCJhIiwidHlwZSIsImtleWJvYXJkIiwic2lnbmFsIiwieEF4ZXMiLCJ5QXhlcyIsInN0YXJ0IiwibGVmdCIsInVwIiwicmlnaHQiLCJkb3duIiwiZ2FtZXBhZFNjYW5uZXJfR2FtZXBhZFNjYW5uZXIiLCJHYW1lcGFkU2Nhbm5lciIsImdhbWVwYWRzIiwic2NhbmdhbWVwYWRzIiwibmF2aWdhdG9yIiwiZ2V0R2FtZXBhZHMiLCJpbmRleCIsImlkIiwiYnV0dG9ucyIsInNjYW5uZWRHYW1lcGFkIiwicmVzZXQiLCJnYW1lcGFkU2Nhbm5lciIsInNldEludGVydmFsIiwic3RvcCIsImNsZWFySW50ZXJ2YWwiLCJnYW1lcGFkQ29udHJvbHNfR2FtZXBhZENvbnRyb2xzIiwiR2FtZXBhZENvbnRyb2xzIiwidGltZW91dCIsInNpZ25hbGluZ1RpbWVycyIsInNpZ25hbExpc3RlbmVyIiwiY2hlY2tTaWduYWwiLCJpc1ByZXNzZWQiLCJ1bmRlZmluZWQiLCJnYW1lcGFkIiwiYXhlcyIsInByZXNzZWQiLCJlbmFibGVTaWduYWxzIiwibWFpbk1lbnVWaWV3X01haW5NZW51VmlldyIsIl9zdXBlciIsIk1haW5NZW51VmlldyIsIm9wdGlvbnMiLCJjb250cm9sbGVycyIsImRyYXdPcHRpb25zIiwic3RhcnRIZWlnaHQiLCJvcHRpb24iLCJmaWxsU3R5bGUiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmb250Iiwib3B0aW9uSGVpZ2h0IiwiZmlsbFRleHQiLCJzZWxlY3RlZE9wdGlvbiIsInN0cm9rZVJlY3QiLCJtZWFzdXJlVGV4dCIsImZvbnRTaXplIiwiZHJhd0NvbnRyb2xsZXJzIiwic3RhcnRYIiwieCIsImFkZENvbnRyb2xsZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlclNpZ25hbCIsInNlbmRlciIsInNob3dDb250cm9scyIsImNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UiLCJJbWFnZSIsInNyYyIsImNvbnRyb2xzX2dhbWVwYWRfZGVmYXVsdCIsImNvbnRyb2xzX2tleWJvYXJkX2ltYWdlIiwiY29udHJvbHNfa2V5Ym9hcmRfZGVmYXVsdCIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImRyYXdJbWFnZSIsInRvU3RyaW5nIiwiX19leHRlbmRzIiwic25ha2VfU25ha2UiLCJTbmFrZSIsImZpZWxkU2l6ZSIsInBsYXllck51bWJlciIsInBhcnRzIiwiZmluaXNoIiwiY29sb3IiLCJpc0RvbmUiLCJkaXJlY3Rpb24iLCJuZXh0RGlyZWN0aW9uIiwidGljayIsImN1cnJlbnQiLCJ5Iiwic2hpZnQiLCJmaWVsZFNpemVYIiwibnVtYmVyT2ZCbG9ja3NZIiwiZmllbGRTaXplWSIsIk1hdGgiLCJjZWlsIiwicGFydCIsImZpbGxSZWN0Iiwicm91bmQiLCJpTURvbmUiLCJnYW1lVmlld19HYW1lVmlldyIsIkdhbWVWaWV3IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzbmFrZXMiLCJpdGVtcyIsIm1heEl0ZW1zIiwiY3VycmVudEl0ZW1TcGF3bkRlbGF5IiwiaXRlbVNwYXduZXJEZWxheSIsImZvdW5kSXRlbSIsIm1heEl0ZXJhdGlvbnMiLCJpdGVtWCIsImZsb29yIiwicmFuZG9tIiwibnVtYmVyT2ZCbG9ja3NYIiwiaXRlbVkiLCJzbmFrZSIsImoiLCJzbmFrZTEiLCJoZWFkUGFydCIsInNuYWtlMiIsImxlbmd0aF8xIiwiayIsIml0ZW0iLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImZpbGwiLCJnYW1lVmlld19leHRlbmRzIiwiYXBwX0FwcCIsIkFwcCIsIm1lbnUiLCJnYW1lIiwicnVuIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJ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RUFDakJwSyxLQUFLaU0saUJBQW1CLEVBQ3hCak0sS0FBS2dNLHNCQUF3QmhNLEtBQUtpTSxpQkFDbENqTSxLQUFLK0wsU0FBVyxFQUNoQixJQUFLLElBQUluTyxFQUFJLEVBQUdBLEVBQUltSyxFQUFZeEYsT0FBUTNFLElBQUssQ0FDekMsSUFBTXFMLEVBQWFsQixFQUFZbkssR0FDM0I2TyxFQUFRLElBQUl2QyxFQUFNbEssS0FBS29LLFVBQVduQixFQUFZckwsRUFBSW1LLEVBQVl4RixRQUNsRXZDLEtBQUtvQixjQUFjcUwsR0FDbkJ6TSxLQUFLNkwsT0FBTy9LLEtBQUsyTCxHQUdyQnpNLEtBQUttQyxjQUFnQkYsS0FBS0QsTUFDMUJoQyxLQUFLa0IsVUFBVWxCLEtBQUtzQixRQUNwQnRCLEtBQUtZLGFBQWFaLEtBQUtxRCxZQWdGL0JxSSxFQTNHQSxDQUE4QjVILEdDQzlCd0osRUFBQSxvQkFBQUMsSUFBQSxJQUFBeE4sRUFBQUMsS0FlWUEsS0FBQTJGLE1BQVEsV0FDWjVGLEVBQUt5TixLQUFLdkosT0FDVmxFLEVBQUswTixLQUFLekosT0FDVmpFLEVBQUswTixLQUFLOUgsTUFBTTVGLEVBQUt5TixLQUFLekYsY0FFbEMsT0FmV3dGLEVBQUEvTixVQUFBa08sSUFBUCxXQUNJMU4sS0FBS3FELFVBQVl2RCxFQUFVOEMsZUFDM0I1QyxLQUFLd04sS0FBTyxJQUFJN0YsRUFBYTNILEtBQUsyRixPQUNsQzNGLEtBQUtxRCxVQUFVNUIsUUFBUXpCLEtBQUt3TixNQUU1QnhOLEtBQUt5TixLQUFPLElBQUloQyxFQUNoQnpMLEtBQUtxRCxVQUFVNUIsUUFBUXpCLEtBQUt5TixNQUM1QnpOLEtBQUt5TixLQUFLeEosUUFRbEJzSixFQXBCQSxHQ0hBMUssU0FBU1UsaUJBQWlCLG1CQUUxQixZQUNjLElBQUkrSixHQUNaSSxRQUo4QyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZWE4YTc3ZDQ0MmNkODRhMWMyMDg0MGI0MTFlZWM2OTcucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjZhYTdmMDQyMWE1Y2U0Y2VjN2NjMDY2OTBmZDMzNWUucG5nXCI7IiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL3ZpZXdcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEFuaW1hdGlvbkZ1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5leHBvcnQgdHlwZSBVcGRhdGVGdW5jdGlvbiA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBbmltYXRhYmxlIHtcclxuICAgIHVwZGF0ZTogVXBkYXRlRnVuY3Rpb247XHJcbiAgICBkcmF3OiBBbmltYXRpb25GdW5jdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25zOiBBbmltYXRpb25GdW5jdGlvbltdID0gW107XHJcbiAgICBwcml2YXRlIHVwZGF0ZXM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlSW5Cb2R5KCk6IEFuaW1hdGlvbiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuXHJcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IG5ldyBBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24uY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGFuaW1hdGlvbi5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gODApIHsgLy8gc3BhY2VcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5wbGF5UGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC5rZXlDb2RlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uLnN0YXJ0QW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLnJlc2l6ZSgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGFuaW1hdGlvbi5yZXNpemUpO1xyXG4gICAgICAgIHJldHVybiBhbmltYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNhbnZhcyByZXNpemluZ1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXJ0QW5pbWF0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnQgYW5pbWF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgcHVibGljIHN0b3BBbmltYXRpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdG9wIGFuaW1hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBwbGF5UGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPyB0aGlzLnN0b3BBbmltYXRpb24oKSA6IHRoaXMuc3RhcnRBbmltYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGlvbiA9IChmdW5jOiBBbmltYXRpb25GdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodGhpcy5hbmltYXRpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVXBkYXRlID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnNwbGljZSh0aGlzLnVwZGF0ZXMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGFuaW1hdGFibGUudXBkYXRlKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltYXRhYmxlLmRyYXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbmltYXRhYmxlID0gKGFuaW1hdGFibGU6IEFuaW1hdGFibGUpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGFuaW1hdGFibGUudXBkYXRlKSwgMSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihhbmltYXRhYmxlLmRyYXcpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVmlldyA9ICh2aWV3OiBWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKHZpZXcpO1xyXG4gICAgICAgIHZpZXcud2lkdGggPSB0aGlzLndpZHRoO1xyXG4gICAgICAgIHZpZXcuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVZpZXcgPSAodmlldzogVmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQW5pbWF0YWJsZSh2aWV3KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzID0gNDA7XHJcbiAgICBwcml2YXRlIGZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0ZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB0aGlzLnVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSh0aW1lRGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYW5pbWF0ZSBvZiB0aGlzLmFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGUodGhpcy5jdHgsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBlbnVtIFNpZ25hbHMge1xyXG4gICAgc3RhcnQgPSBcInN0YXJ0XCIsXHJcbiAgICBsZWZ0ID0gXCJsZWZ0XCIsXHJcbiAgICB1cCA9IFwidXBcIixcclxuICAgIHJpZ2h0ID0gXCJyaWdodFwiLFxyXG4gICAgZG93biA9IFwiZG93blwiLFxyXG4gICAgYSA9IFwiYVwiXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIENvbnRyb2xsZXJUeXBlIHtcclxuICAgIGtleWJvYXJkID0gXCJrZXlib2FyZFwiLFxyXG4gICAgZ2FtZXBhZCA9IFwiZ2FtZXBhZFwiXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29udHJvbGxlciB7XHJcbiAgICB4QXhlczogbnVtYmVyO1xyXG4gICAgeUF4ZXM6IG51bWJlcjtcclxuICAgIG5hbWU6IHN0cmluZztcclxuXHJcbiAgICBzdGFydDogYm9vbGVhbjtcclxuICAgIGE6IGJvb2xlYW47XHJcblxyXG4gICAgc2lnbmFsOiBFRXZlbnRUVDxDb250cm9sbGVyLCBzdHJpbmc+O1xyXG4gICAgdHlwZTogQ29udHJvbGxlclR5cGVcclxufSIsImltcG9ydCB7IEFuaW1hdGlvbkZ1bmN0aW9uLCBVcGRhdGVGdW5jdGlvbiwgQW5pbWF0YWJsZSwgQW5pbWF0aW9uIH0gZnJvbSBcIi4vYW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlldyBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG4gICAgcHVibGljIGFuaW1hdGlvbnM6IEFuaW1hdGlvbkZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHB1YmxpYyB1cGRhdGVzOiBVcGRhdGVGdW5jdGlvbltdID0gW107XHJcbiAgICBwcml2YXRlIGlzVmlzaWJsZSA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHdpZHRoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYW5pbWF0ZSBvZiB0aGlzLmFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGUoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGlvbiA9IChmdW5jOiBBbmltYXRpb25GdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodGhpcy5hbmltYXRpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVXBkYXRlID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnNwbGljZSh0aGlzLnVwZGF0ZXMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGFuaW1hdGFibGUudXBkYXRlKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltYXRhYmxlLmRyYXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbmltYXRhYmxlID0gKGFuaW1hdGFibGU6IEFuaW1hdGFibGUpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGFuaW1hdGFibGUudXBkYXRlKSwgMSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihhbmltYXRhYmxlLmRyYXcpLCAxKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBFRXZlbnQge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFQ8VD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnOiBUKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnOiBUKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFRUPFQxLCBUMj4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcxLCBhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vZW5jL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzIH0gZnJvbSBcIi4vZW5jL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4vZW5jL2VFdmVudFwiO1xyXG5cclxuZW51bSBEaXJlY3Rpb24ge1xyXG4gICAgdXAsXHJcbiAgICByaWdodCxcclxuICAgIGRvd24sXHJcbiAgICBsZWZ0XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbmFrZSBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG5cclxuICAgIHB1YmxpYyBwYXJ0czogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9W10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIGRpcmVjdGlvbjogRGlyZWN0aW9uO1xyXG4gICAgcHJpdmF0ZSBuZXh0RGlyZWN0aW9uOiBEaXJlY3Rpb25cclxuICAgIHByaXZhdGUgY29sb3I6IHN0cmluZztcclxuICAgIGlNRG9uZTogRUV2ZW50O1xyXG4gICAgcHJpdmF0ZSBpc0RvbmU6IGJvb2xlYW47XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVhZFBhcnQoKTogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0c1t0aGlzLnBhcnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZpZWxkU2l6ZTogbnVtYmVyLCBwcml2YXRlIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsIHByaXZhdGUgcGxheWVyTnVtYmVyOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IERpcmVjdGlvbi5yaWdodDtcclxuICAgICAgICB0aGlzLm5leHREaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcclxuICAgICAgICB0aGlzLmlzRG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcImhzbChcIiArIHBsYXllck51bWJlciAqIDM2MCArIFwiLDEwMCUsIDQwJSlcIlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHg6IDMgKyBpLCB5OiAxICsgTWF0aC5yb3VuZChwbGF5ZXJOdW1iZXIgKiAyMCkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250cm9sbGVyU2lnbmFsKVxyXG5cclxuICAgICAgICB0aGlzLmlNRG9uZSA9IG5ldyBFRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmlNRG9uZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuZmluaXNoKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmluaXNoID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcImhzbChcIiArIHRoaXMucGxheWVyTnVtYmVyICogMzYwICsgXCIsMTAwJSwgODAlKVwiXHJcbiAgICAgICAgdGhpcy5pc0RvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29udHJvbGxlclNpZ25hbCA9IChzZW5kZXI6IENvbnRyb2xsZXIsIHNpZ25hbDogU2lnbmFscykgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoc2lnbmFsKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2lnbmFscy51cDpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiAhPSBEaXJlY3Rpb24uZG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dERpcmVjdGlvbiA9IERpcmVjdGlvbi51cDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNpZ25hbHMucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT0gRGlyZWN0aW9uLmxlZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHREaXJlY3Rpb24gPSBEaXJlY3Rpb24ucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTaWduYWxzLmRvd246XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT0gRGlyZWN0aW9uLnVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0RGlyZWN0aW9uID0gRGlyZWN0aW9uLmRvd247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTaWduYWxzLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT0gRGlyZWN0aW9uLnJpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0RGlyZWN0aW9uID0gRGlyZWN0aW9uLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRG9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMubmV4dERpcmVjdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMucGFydHNbdGhpcy5wYXJ0cy5sZW5ndGggLSAxXVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi51cDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB4OiBjdXJyZW50LngsIHk6IGN1cnJlbnQueSAtIDEgfSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHg6IGN1cnJlbnQueCArIDEsIHk6IGN1cnJlbnQueSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uZG93bjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB4OiBjdXJyZW50LngsIHk6IGN1cnJlbnQueSArIDEgfSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgeDogY3VycmVudC54IC0gMSwgeTogY3VycmVudC55IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBudW1iZXJPZkJsb2Nrc1ggPSAodGhpcy5maWVsZFNpemUgKiAzMClcclxuICAgICAgICBjb25zdCBmaWVsZFNpemVYID0gd2lkdGggLyBudW1iZXJPZkJsb2Nrc1g7XHJcbiAgICAgICAgbGV0IG51bWJlck9mQmxvY2tzWSA9IGhlaWdodCAvIGZpZWxkU2l6ZVg7XHJcbiAgICAgICAgbnVtYmVyT2ZCbG9ja3NZID0gTWF0aC5jZWlsKG51bWJlck9mQmxvY2tzWSlcclxuICAgICAgICBjb25zdCBmaWVsZFNpemVZID0gaGVpZ2h0IC8gbnVtYmVyT2ZCbG9ja3NZO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChwYXJ0LnggKiBmaWVsZFNpemVYLCBwYXJ0LnkgKiBmaWVsZFNpemVZLCBmaWVsZFNpemVYLCBmaWVsZFNpemVZKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzLCBDb250cm9sbGVyVHlwZSB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBLZXlib2FyZENvbnRyb2xzIGltcGxlbWVudHMgQ29udHJvbGxlciB7XHJcbiAgICB0eXBlOiBDb250cm9sbGVyVHlwZTtcclxuICAgIHNpZ25hbDogRUV2ZW50VFQ8Q29udHJvbGxlciwgc3RyaW5nPjtcclxuICAgIHB1YmxpYyBhOiBib29sZWFuO1xyXG4gICAgcHVibGljIHhBeGVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeUF4ZXM6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgc3RhcnQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgdXBLZXk6IG51bWJlciwgbGVmdEtleTogbnVtYmVyLCBkb3duS2V5OiBudW1iZXIsIHJpZ2h0S2V5OiBudW1iZXIsIGE6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IENvbnRyb2xsZXJUeXBlLmtleWJvYXJkO1xyXG4gICAgICAgIHRoaXMuc2lnbmFsID0gbmV3IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz4oKTtcclxuICAgICAgICB0aGlzLnhBeGVzID0gMDtcclxuICAgICAgICB0aGlzLnlBeGVzID0gMDtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gbGVmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy54QXhlcyA9IC0xXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMubGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gdXBLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAtMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy51cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gcmlnaHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBTaWduYWxzLnJpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBkb3duS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy5kb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMuc3RhcnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMuYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gbGVmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueEF4ZXMgPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHVwS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55QXhlcyA9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gcmlnaHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnhBeGVzID0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGRvd25LZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnlBeGVzID0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lcGFkU2Nhbm5lciB7XHJcbiAgICBwcml2YXRlIGdhbWVwYWRTY2FubmVyOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGdhbWVwYWRzOiBHYW1lcGFkW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnNjYW5uZWRHYW1lcGFkID0gbmV3IEVFdmVudFQ8R2FtZXBhZD4oKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZXBhZFNjYW5uZXIgPSBzZXRJbnRlcnZhbCh0aGlzLnNjYW5nYW1lcGFkcywgNTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCgpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZ2FtZXBhZFNjYW5uZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmdhbWVwYWRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzY2FuZ2FtZXBhZHMgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzY2FubmluZyBnYW1lcGFkc1wiKTtcclxuXHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzID8gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkgOiBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbWVwYWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lcGFkc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzY2FubmVkIGdhbWVwYWQ6IFwiICsgZ2FtZXBhZHNbaV0uaW5kZXggKyBcIi9cIiArIGdhbWVwYWRzW2ldLmlkKTtcclxuICAgICAgICAgICAgICAgIGlmICghKGdhbWVwYWRzW2ldLmluZGV4IGluIHRoaXMuZ2FtZXBhZHMpICYmIGdhbWVwYWRzW2ldLmJ1dHRvbnMubGVuZ3RoID49IDE2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkc1tnYW1lcGFkc1tpXS5pbmRleF0gPSBnYW1lcGFkc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYW5uZWRHYW1lcGFkLmRpc3BhdGNoRXZlbnQoZ2FtZXBhZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzY2FubmVkR2FtZXBhZDogRUV2ZW50VDxHYW1lcGFkPjtcclxufSIsImltcG9ydCB7IENvbnRyb2xsZXIsIENvbnRyb2xsZXJUeXBlLCBTaWduYWxzIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUVCB9IGZyb20gXCIuL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVwYWRDb250cm9scyBpbXBsZW1lbnRzIENvbnRyb2xsZXIge1xyXG4gICAgc2lnbmFsOiBFRXZlbnRUVDxDb250cm9sbGVyLCBzdHJpbmc+O1xyXG4gICAgdHlwZTogQ29udHJvbGxlclR5cGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zaWduYWwgPSBuZXcgRUV2ZW50VFQ8Q29udHJvbGxlciwgc3RyaW5nPigpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IENvbnRyb2xsZXJUeXBlLmdhbWVwYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB4QXhlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5heGVzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgeUF4ZXMoKTogbnVtYmVyIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYXhlc1sxXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHN0YXJ0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5idXR0b25zWzldLnByZXNzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5idXR0b25zWzBdLnByZXNzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuYWJsZVNpZ25hbHMoKSB7XHJcbiAgICAgICAgdGhpcy5zaWduYWxMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGltZW91dCA9IDAuNTtcclxuICAgIHByaXZhdGUgc2lnbmFsaW5nVGltZXJzOiB7IFtpZDogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcclxuXHJcbiAgICBwcml2YXRlIHNpZ25hbExpc3RlbmVyID0gKCkgPT4ge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnNpZ25hbExpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy5zdGFydCwgU2lnbmFscy5zdGFydCwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMuYSwgU2lnbmFscy5hLCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy55QXhlcyA8IC0wLjUsIFNpZ25hbHMudXAsIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLnlBeGVzID4gMC41LCBTaWduYWxzLmRvd24sIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLnhBeGVzIDwgLTAuNSwgU2lnbmFscy5sZWZ0LCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy54QXhlcyA+IDAuNSwgU2lnbmFscy5yaWdodCwgbm93KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrU2lnbmFsID0gKGlzUHJlc3NlZDogYm9vbGVhbiwgc2lnbmFsOiBTaWduYWxzLCBub3c6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChpc1ByZXNzZWQpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNpZ25hbGluZ1RpbWVyc1tzaWduYWxdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1RpbWVyc1tzaWduYWxdID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgc2lnbmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgobm93IC0gdGhpcy5zaWduYWxpbmdUaW1lcnNbc2lnbmFsXSkgLyAxMDAwID49IHRoaXMudGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBzaWduYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1RpbWVyc1tzaWduYWxdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi9lbmMvdmlld1wiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzLCBDb250cm9sbGVyVHlwZSB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IEtleWJvYXJkQ29udHJvbHMgfSBmcm9tIFwiLi9lbmMva2V5Ym9hcmRDb250cm9sc1wiO1xyXG5pbXBvcnQgeyBHYW1lcGFkU2Nhbm5lciB9IGZyb20gXCIuL2VuYy9nYW1lcGFkU2Nhbm5lclwiO1xyXG5pbXBvcnQgeyBHYW1lcGFkQ29udHJvbHMgfSBmcm9tIFwiLi9lbmMvZ2FtZXBhZENvbnRyb2xzXCI7XHJcbmltcG9ydCBjb250cm9sc19nYW1lcGFkIGZyb20gXCIuL2Fzc2V0cy9jb250cm9sc19nYW1lcGFkLnBuZ1wiO1xyXG5pbXBvcnQgY29udHJvbHNfa2V5Ym9hcmQgZnJvbSBcIi4vYXNzZXRzL2NvbnRyb2xzX2tleWJvYXJkLnBuZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5NZW51VmlldyBleHRlbmRzIFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZE9wdGlvbjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBvcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHVibGljIGNvbnRyb2xsZXJzOiBDb250cm9sbGVyW10gPSBbXTtcclxuICAgIGNvbnRyb2xzX2dhbWVwYWRfaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb250cm9sc19rZXlib2FyZF9pbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuXHJcbiAgICBwcml2YXRlIHNob3dDb250cm9sczogYm9vbGVhbjtcclxuICAgIGdhbWVwYWRTY2FubmVyOiBHYW1lcGFkU2Nhbm5lcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXJ0OiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXCJTdGFydCBHYW1lXCIsIFwiU2hvdyAvIEhpZGUgQ29udHJvbHNcIl07XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5zaG93Q29udHJvbHMgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2Uuc3JjID0gY29udHJvbHNfZ2FtZXBhZDtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzX2tleWJvYXJkX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc19rZXlib2FyZF9pbWFnZS5zcmMgPSBjb250cm9sc19rZXlib2FyZDtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRpb24oKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93Q29udHJvbHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdXaWR0aCA9IHdpZHRoIC8gMztcclxuICAgICAgICAgICAgICAgIGxldCBuZXdIZWlnaHQgPSBuZXdXaWR0aCAvIHRoaXMuY29udHJvbHNfZ2FtZXBhZF9pbWFnZS5uYXR1cmFsV2lkdGggKiB0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5jb250cm9sc19nYW1lcGFkX2ltYWdlLCBuZXdXaWR0aCAtIG5ld1dpZHRoIC8gMiwgaGVpZ2h0ICogMyAvIDQgLSBuZXdIZWlnaHQgLyAyLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IG5ld1dpZHRoIC8gdGhpcy5jb250cm9sc19rZXlib2FyZF9pbWFnZS5uYXR1cmFsV2lkdGggKiB0aGlzLmNvbnRyb2xzX2tleWJvYXJkX2ltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2UsIG5ld1dpZHRoICogMiAtIG5ld1dpZHRoIC8gMiwgaGVpZ2h0ICogMyAvIDQgLSBuZXdIZWlnaHQgLyAyLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmRyYXdPcHRpb25zKTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmRyYXdDb250cm9sbGVycyk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZXBhZFNjYW5uZXIgPSBuZXcgR2FtZXBhZFNjYW5uZXIoKTtcclxuICAgICAgICB0aGlzLmdhbWVwYWRTY2FubmVyLnNjYW5uZWRHYW1lcGFkLmFkZEV2ZW50TGlzdGVuZXIoKGdhbWVwYWQ6IEdhbWVwYWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb250cm9sbGVyKG5ldyBHYW1lcGFkQ29udHJvbHMoZ2FtZXBhZC5pbmRleC50b1N0cmluZygpLCBnYW1lcGFkLmluZGV4KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lcGFkU2Nhbm5lci5zdGFydCgpO1xyXG5cclxuICAgICAgICB2YXIga2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmRDb250cm9scyhcImFycm93c1wiLCAzOCwgMzcsIDQwLCAzOSwgMzIpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29udHJvbGxlcihrZXlib2FyZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdPcHRpb25zID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb250cm9sbGVycy5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gMjI7XHJcbiAgICAgICAgY29uc3QgbWFyZ2luID0gNTtcclxuICAgICAgICBjb25zdCBvcHRpb25zSGVpZ2h0ID0gKGZvbnRTaXplICsgbWFyZ2luICogMikgKiB0aGlzLm9wdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0SGVpZ2h0ID0gaGVpZ2h0IC8gMiAtIG9wdGlvbnNIZWlnaHQgLyAyO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiOyAvLyBzdGFydCAvIGxlZnQgLyBjZW50ZXIgLyByaWdodCAvIGVuZFxyXG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIiAvLyBib3R0b20gLyBhbHBoYWJldGljIC8gbWlkZGxlIC8gaGFuZ2luZyAvIHRvcFxyXG4gICAgICAgICAgICBjdHguZm9udCA9IFwiMjJweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkhlaWdodCA9IHN0YXJ0SGVpZ2h0ICsgbWFyZ2luICsgKGZvbnRTaXplICsgbWFyZ2luICogMikgKiBpO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQob3B0aW9uLCB3aWR0aCAvIDIsIG9wdGlvbkhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA9PT0gdGhpcy5zZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3Qod2lkdGggLyAyIC0gY3R4Lm1lYXN1cmVUZXh0KG9wdGlvbikud2lkdGggLyAyIC0gbWFyZ2luLCBvcHRpb25IZWlnaHQgLSBmb250U2l6ZSAvIDIgLSBtYXJnaW4sIGN0eC5tZWFzdXJlVGV4dChvcHRpb24pLndpZHRoICsgbWFyZ2luICogMiwgZm9udFNpemUgKyBtYXJnaW4gKiAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd0NvbnRyb2xsZXJzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBtYXJnaW4gPSAxNTtcclxuICAgICAgICB2YXIgY29udHJvbGxlcldpZHRoID0gNjA7XHJcbiAgICAgICAgdmFyIHRvdGFsV2lkdGggPSBtYXJnaW4gKyB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCAqIChjb250cm9sbGVyV2lkdGggKyBtYXJnaW4pXHJcbiAgICAgICAgdmFyIHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHRvdGFsV2lkdGggLyAyXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImhzbChcIiArIGkgLyB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCAqIDM2MCArIFwiLDEwMCUsIDQwJSlcIjtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY29udHJvbGxlcnNbaV07XHJcbiAgICAgICAgICAgIHZhciB4ID0gc3RhcnRYICsgbWFyZ2luICsgKG1hcmdpbiArIGNvbnRyb2xsZXJXaWR0aCkgKiBpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyVHlwZS5nYW1lcGFkOlxyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gJzYwcHggRm9udEF3ZXNvbWUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnXFx1ZjExYicsIHgsIGhlaWdodCAvIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyVHlwZS5rZXlib2FyZDpcclxuICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9ICc2MHB4IEZvbnRBd2Vzb21lJztcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJ1xcdWYxMWMnLCB4LCBoZWlnaHQgLyA0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDb250cm9sbGVyID0gKGNvbnRyb2xsZXI6IENvbnRyb2xsZXIpID0+IHtcclxuICAgICAgICBpZiAoY29udHJvbGxlci50eXBlID09IENvbnRyb2xsZXJUeXBlLmdhbWVwYWQpIHtcclxuICAgICAgICAgICAgKDxHYW1lcGFkQ29udHJvbHM+Y29udHJvbGxlcikuZW5hYmxlU2lnbmFscygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY29udHJvbGxlclNpZ25hbClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnRyb2xsZXJTaWduYWwgPSAoc2VuZGVyOiBDb250cm9sbGVyLCBzaWduYWw6IFNpZ25hbHMpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInNpZ25hbDogXCIgKyBzaWduYWwpO1xyXG5cclxuICAgICAgICBpZiAoc2lnbmFsID09IFNpZ25hbHMuc3RhcnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcnMuaW5kZXhPZihzZW5kZXIpID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcnMuc3BsaWNlKHRoaXMuY29udHJvbGxlcnMuaW5kZXhPZihzZW5kZXIpLCAxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcnMucHVzaChzZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCA+IDAgJiYgdGhpcy5jb250cm9sbGVyc1swXSA9PSBzZW5kZXIpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChzaWduYWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgU2lnbmFscy5kb3duOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24rKztcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbiA+PSB0aGlzLm9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU2lnbmFscy51cDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uLS07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb24gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNpZ25hbHMuYTpcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc2VsZWN0ZWRPcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkU2Nhbm5lci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Q29udHJvbHMgPSAhdGhpcy5zaG93Q29udHJvbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vZW5jL3ZpZXdcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IFNuYWtlIH0gZnJvbSBcIi4vc25ha2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lVmlldyBleHRlbmRzIFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzbmFrZXM6IFNuYWtlW10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIGZwc0ludGVydmFsID0gMzAwO1xyXG4gICAgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgZmllbGRTaXplOiBudW1iZXI7XHJcbiAgICBudW1iZXJPZkJsb2Nrc1k6IG51bWJlcjtcclxuICAgIG51bWJlck9mQmxvY2tzWDogbnVtYmVyO1xyXG4gICAgaXRlbXM6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfVtdID0gW107XHJcbiAgICBpdGVtU3Bhd25lckRlbGF5OiBudW1iZXI7XHJcbiAgICBjdXJyZW50SXRlbVNwYXduRGVsYXk6IG51bWJlcjtcclxuICAgIG1heEl0ZW1zOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHN0YXJ0KGNvbnRyb2xsZXJzOiBDb250cm9sbGVyW10pIHtcclxuICAgICAgICB0aGlzLmZpZWxkU2l6ZSA9IDE7XHJcbiAgICAgICAgdGhpcy5pdGVtU3Bhd25lckRlbGF5ID0gNTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtU3Bhd25EZWxheSA9IHRoaXMuaXRlbVNwYXduZXJEZWxheTtcclxuICAgICAgICB0aGlzLm1heEl0ZW1zID0gMztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xsZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBjb250cm9sbGVyc1tpXTtcclxuICAgICAgICAgICAgdmFyIHNuYWtlID0gbmV3IFNuYWtlKHRoaXMuZmllbGRTaXplLCBjb250cm9sbGVyLCBpIC8gY29udHJvbGxlcnMubGVuZ3RoKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKHNuYWtlKTtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZXMucHVzaChzbmFrZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuYWRkVXBkYXRlKHRoaXMudXBkYXRlKTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmFuaW1hdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPCB0aGlzLm1heEl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbVNwYXduRGVsYXkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1TcGF3bkRlbGF5ID0gdGhpcy5pdGVtU3Bhd25lckRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZEl0ZW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhJdGVyYXRpb25zID0gMjA7XHJcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZEl0ZW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbVggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLm51bWJlck9mQmxvY2tzWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtWSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMubnVtYmVyT2ZCbG9ja3NZKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zbmFrZXMubGVuZ3RoICYmIGZvdW5kSXRlbTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFrZSA9IHRoaXMuc25ha2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbmFrZS5wYXJ0cy5sZW5ndGggJiYgZm91bmRJdGVtOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gc25ha2UucGFydHNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQueCA9PSBpdGVtWCAmJiBwYXJ0LnkgPT0gaXRlbVkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRJdGVtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEl0ZXJhdGlvbnMtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHsgeDogaXRlbVgsIHk6IGl0ZW1ZIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoIWZvdW5kSXRlbSAmJiBtYXhJdGVyYXRpb25zID4gMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtU3Bhd25EZWxheS0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzbmFrZSA9IHRoaXMuc25ha2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgc25ha2UudGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zbmFrZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNuYWtlMSA9IHRoaXMuc25ha2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNuYWtlMS5oZWFkUGFydC54IDwgMCB8fCBzbmFrZTEuaGVhZFBhcnQueSA8IDAgfHwgc25ha2UxLmhlYWRQYXJ0LnggPj0gdGhpcy5udW1iZXJPZkJsb2Nrc1ggfHwgc25ha2UxLmhlYWRQYXJ0LnkgPj0gdGhpcy5udW1iZXJPZkJsb2Nrc1kpIHtcclxuICAgICAgICAgICAgICAgICAgICBzbmFrZTEuaU1Eb25lLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5zbmFrZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFrZTIgPSB0aGlzLnNuYWtlc1tqXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gc25ha2UxICE9IHNuYWtlMiA/IHNuYWtlMi5wYXJ0cy5sZW5ndGggOiBzbmFrZTIucGFydHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQgPSBzbmFrZTIucGFydHNba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnggPT0gc25ha2UxLmhlYWRQYXJ0LnggJiYgcGFydC55ID09IHNuYWtlMS5oZWFkUGFydC55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFrZTEuaU1Eb25lLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBhbmltYXRpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgbGV0IGZpZWxkU2l6ZVggPSB3aWR0aCAvIHRoaXMubnVtYmVyT2ZCbG9ja3NYO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkU2l6ZVkgPSBoZWlnaHQgLyB0aGlzLm51bWJlck9mQmxvY2tzWTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHguYXJjKGl0ZW0ueCAqIGZpZWxkU2l6ZVggKyBmaWVsZFNpemVYIC8gMiwgaXRlbS55ICogZmllbGRTaXplWSArIGZpZWxkU2l6ZVkgLyAyLCBmaWVsZFNpemVYIC8gMywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5udW1iZXJPZkJsb2Nrc1ggPSAodGhpcy5maWVsZFNpemUgKiAzMClcclxuICAgICAgICBmaWVsZFNpemVYID0gd2lkdGggLyB0aGlzLm51bWJlck9mQmxvY2tzWDtcclxuICAgICAgICB0aGlzLm51bWJlck9mQmxvY2tzWSA9IE1hdGguY2VpbChoZWlnaHQgLyBmaWVsZFNpemVYKTtcclxuICAgIH07XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb24gfSBmcm9tIFwiLi9lbmMvYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IE1haW5NZW51VmlldyB9IGZyb20gXCIuL21haW5NZW51Vmlld1wiO1xyXG5pbXBvcnQgeyBHYW1lVmlldyB9IGZyb20gXCIuL2dhbWVWaWV3XCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBhbmltYXRpb246IEFuaW1hdGlvbjtcclxuICAgIG1lbnU6IE1haW5NZW51VmlldztcclxuICAgIGdhbWU6IEdhbWVWaWV3O1xyXG5cclxuICAgIHB1YmxpYyBydW4oKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBBbmltYXRpb24uY3JlYXRlSW5Cb2R5KCk7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbmV3IE1haW5NZW51Vmlldyh0aGlzLnN0YXJ0KTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRWaWV3KHRoaXMubWVudSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nYW1lID0gbmV3IEdhbWVWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVmlldyh0aGlzLmdhbWUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1lbnUuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5zaG93KCk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnN0YXJ0KHRoaXMubWVudS5jb250cm9sbGVycyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gIGNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcclxuICBhcHAucnVuKCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9